# Known Issues & Troubleshooting Guide
**Release**: v1.1.0-beta
**Status**: Living document (updated throughout release cycle)
**Last Updated**: 2026-01-08 (Pre-Beta)

---

## Purpose

This document tracks all known issues in v1.1.0-beta and provides troubleshooting guidance for users. It is updated continuously throughout the beta testing period and beyond.

**Audience**: Users, Beta Testers, Support Team

**Format**:
- **Known Issues**: Confirmed bugs with workarounds
- **Troubleshooting**: Common problems and solutions
- **Platform-Specific**: macOS vs. Linux issues

---

## Table of Contents

1. [Critical Known Issues (P0)](#critical-known-issues-p0)
2. [High-Priority Known Issues (P1)](#high-priority-known-issues-p1)
3. [Medium-Priority Known Issues (P2)](#medium-priority-known-issues-p2)
4. [Platform-Specific Issues](#platform-specific-issues)
5. [Common Installation Problems](#common-installation-problems)
6. [Common Usage Problems](#common-usage-problems)
7. [Telemetry & Privacy Issues](#telemetry--privacy-issues)
8. [Performance Issues](#performance-issues)
9. [Reporting New Issues](#reporting-new-issues)

---

## Critical Known Issues (P0)

**As of 2026-01-08**: ‚úÖ **ZERO P0 ISSUES**

> P0 (Critical) issues are complete product failures, data loss, or privacy violations. Any P0 issue blocks release.

**This section will be updated if any P0 issues are discovered during beta testing.**

---

## High-Priority Known Issues (P1)

**As of 2026-01-08**: ‚úÖ **ZERO P1 ISSUES**

> P1 (High) issues are major feature breakages affecting many users. Typically fixed within 3 days.

**This section will be updated if any P1 issues are discovered during beta testing.**

---

## Medium-Priority Known Issues (P2)

**As of 2026-01-08**: No confirmed P2 issues yet.

> P2 (Medium) issues are features that work but with limitations or minor bugs. Fixed within 1 week.

**This section will be updated as P2 issues are identified during beta testing.**

---

## Platform-Specific Issues

### macOS Issues

#### Issue: BSD vs. GNU Command Differences

**Status**: Expected behavior (not a bug)

**Description**:
macOS uses BSD variants of common commands (e.g., `find`, `ps`, `stat`) which have different flags than GNU variants on Linux.

**Impact**:
Some commands generated on Linux won't work on macOS, and vice versa.

**Workaround**:
Caro attempts to detect your platform and generate platform-appropriate commands. If you receive a non-working command:

1. Note your platform: `uname -s`
2. Report the issue with both the query and generated command
3. Manually adjust flags if needed

**Example**:
- Linux (GNU): `ps aux --sort=-%mem`
- macOS (BSD): `ps aux | sort -k4 -rn`

**Fix Plan**: Platform detection is improving. Report any mismatches!

---

#### Issue: Apple Silicon (M1/M2/M3) Binary Compatibility

**Status**: Should work, but limited testing

**Description**:
Caro binaries are built for both Intel (x86_64) and Apple Silicon (arm64), but Apple Silicon testing has been limited.

**Impact**:
Possible installation or runtime issues on M1/M2/M3 Macs.

**Workaround**:
If you encounter issues on Apple Silicon:

1. Try Rosetta 2 (Intel emulation):
   ```bash
   arch -x86_64 /bin/bash
   # Then reinstall/run Caro
   ```

2. Report the issue with your chip type:
   ```bash
   sysctl -n machdep.cpu.brand_string
   ```

**Fix Plan**: We're actively seeking Apple Silicon beta testers!

---

### Linux Issues

#### Issue: Distribution-Specific Package Managers

**Status**: Expected limitation

**Description**:
Installation instructions primarily cover Debian/Ubuntu (`.deb`) and universal installer. Other distros (Fedora, Arch, etc.) may require manual installation.

**Impact**:
Users on non-Debian distros need to manually install from binary.

**Workaround**:
**For Fedora/RHEL**:
```bash
wget https://github.com/your-org/caro/releases/download/v1.1.0-beta/caro
chmod +x caro
sudo mv caro /usr/local/bin/
```

**For Arch Linux**:
```bash
# Build from source or use universal installer
curl -sSL https://install.caro-cli.dev | bash
```

**Fix Plan**: Consider AUR package for Arch, RPM for Fedora in future releases

---

#### Issue: WSL (Windows Subsystem for Linux) Compatibility

**Status**: Unknown, needs testing

**Description**:
Caro has not been tested on WSL. It may work, but there could be unexpected issues.

**Impact**:
WSL users may encounter installation or runtime problems.

**Workaround**:
Try the universal Linux installer:
```bash
curl -sSL https://install.caro-cli.dev | bash
```

If issues arise, please report with:
- WSL version: `wsl --version`
- Distro: `lsb_release -a`
- Specific error message

**Fix Plan**: Seeking WSL beta testers!

---

## Common Installation Problems

### Problem: `command not found: caro` after installation

**Symptoms**:
```bash
$ caro --version
bash: caro: command not found
```

**Possible Causes**:
1. Binary not in PATH
2. Installation incomplete
3. Shell hasn't reloaded PATH

**Solutions**:

**Solution 1: Reload shell**
```bash
# Reload your shell config
source ~/.bashrc  # or ~/.zshrc
# Or restart terminal
```

**Solution 2: Check installation location**
```bash
# Find where Caro was installed
which caro

# If not found, check common locations:
ls -l /usr/local/bin/caro
ls -l ~/.local/bin/caro

# Add to PATH if needed:
export PATH="$PATH:/usr/local/bin"
# Add to ~/.bashrc or ~/.zshrc for persistence
```

**Solution 3: Reinstall**
```bash
# Remove any partial installation
rm -f /usr/local/bin/caro ~/.local/bin/caro

# Reinstall using installer
curl -sSL https://install.caro-cli.dev | bash

# Verify
caro --version
```

---

### Problem: Permission denied when running `caro`

**Symptoms**:
```bash
$ caro --version
bash: /usr/local/bin/caro: Permission denied
```

**Cause**:
Binary not marked as executable

**Solution**:
```bash
# Make binary executable
sudo chmod +x /usr/local/bin/caro

# Or if installed locally:
chmod +x ~/.local/bin/caro

# Verify
caro --version
```

---

### Problem: Installation script fails with "curl: command not found"

**Symptoms**:
```bash
$ curl -sSL https://install.caro-cli.dev | bash
bash: curl: command not found
```

**Cause**:
`curl` not installed on system

**Solutions**:

**macOS**:
```bash
# Install curl via Homebrew
brew install curl
```

**Linux (Debian/Ubuntu)**:
```bash
sudo apt-get update
sudo apt-get install curl
```

**Linux (Fedora)**:
```bash
sudo dnf install curl
```

**Alternative: Use wget**
```bash
wget -qO- https://install.caro-cli.dev | bash
```

---

### Problem: Homebrew installation fails (macOS)

**Symptoms**:
```bash
$ brew install caro
Error: caro: no bottle available for this platform
```

**Cause**:
Homebrew formula not yet available, or platform not supported

**Solutions**:

**Solution 1: Use universal installer**
```bash
curl -sSL https://install.caro-cli.dev | bash
```

**Solution 2: Manual installation**
```bash
# Download binary for your platform
wget https://github.com/your-org/caro/releases/download/v1.1.0-beta/caro-macos-$(arch)
chmod +x caro-macos-$(arch)
sudo mv caro-macos-$(arch) /usr/local/bin/caro
```

---

## Common Usage Problems

### Problem: Caro generates incorrect command for query

**Symptoms**:
```bash
$ caro "find files larger than 10MB"
Generated: find . -size +10MB
Error: find: invalid size
```

**Cause**:
Command generation error (could be static matcher miss or LLM hallucination)

**Solution**:

1. **Try rephrasing query**:
   ```bash
   caro "find files bigger than 10 megabytes"
   # or
   caro "list files over 10MB in size"
   ```

2. **Check what backend was used**:
   ```bash
   caro --verbose "your query"
   # Shows which backend (static or LLM) generated command
   ```

3. **Report the issue**:
   - Go to: https://github.com/your-org/caro/issues
   - Use "Bug Report" template
   - Include: query, generated command, expected command, platform

4. **Manual fix** (temporary):
   ```bash
   # Correct command for this case:
   find . -type f -size +10M
   ```

---

### Problem: Caro is slow (>2 seconds response time)

**Symptoms**:
```bash
$ time caro "list files"
[... 3+ seconds later ...]
Generated: ls
real    0m3.5s
```

**Expected Performance**:
- Static matcher: <100ms
- LLM fallback: <2 seconds

**Possible Causes**:
1. LLM backend is slow (network latency)
2. First query (cold start)
3. Complex query requiring multiple attempts

**Solutions**:

**Solution 1: Check backend**
```bash
caro --verbose "your query"
# If shows "backend: embedded", that's expected for complex queries
# If shows "backend: static" but still slow, that's unusual
```

**Solution 2: Test network**
```bash
# If using LLM backend, test internet connection
ping -c 3 8.8.8.8
```

**Solution 3: Simplify query**
```bash
# Try simpler phrasing
caro "list files"  # Instead of "show me all files in current directory recursively"
```

**Solution 4: Report performance issue**
Include in report:
- Query that was slow
- Backend used (from --verbose)
- Platform and internet speed
- Whether it's consistently slow or occasional

---

### Problem: Caro doesn't warn about dangerous command

**Symptoms**:
```bash
$ caro "delete all files in this directory"
Generated: rm -rf *
# No warning shown!
```

**Expected Behavior**:
Caro should warn about destructive commands

**Status**:
Safety validation is implemented with 100+ patterns. If you find a dangerous command that doesn't trigger a warning, this is a **P1 bug**.

**Immediate Action**:
1. **DO NOT execute the command**
2. Report immediately as P1 bug
3. Include exact query and generated command

**Workaround**:
Always review generated commands before executing, especially:
- Commands with `rm`, `dd`, `mkfs`
- Commands modifying system files
- Commands requiring `sudo`
- Commands with `>` or `|` (redirection/piping)

---

### Problem: Error messages are unhelpful

**Symptoms**:
```bash
$ caro "some query"
Error: Failed to generate command
# No additional context
```

**Cause**:
Error handling could be improved

**Workaround**:
```bash
# Try verbose mode for more context
caro --verbose "your query"

# Check logs (if available)
# Location varies by platform
```

**Fix Plan**:
Improving error messages is ongoing. Please report specific examples of unhelpful errors!

---

### Problem: Commands work on one platform but not another

**Symptoms**:
```bash
# Linux
$ caro "show top 5 CPU processes"
Generated: ps aux --sort=-%cpu | head -5
# Works fine!

# macOS
$ caro "show top 5 CPU processes"
Generated: ps aux --sort=-%cpu | head -5
Error: ps: illegal option -- -
```

**Cause**:
Platform detection failed or command not properly adapted for BSD/GNU differences

**Solution**:

1. **Check platform detection**:
   ```bash
   caro --version
   # Should show your platform
   ```

2. **Report platform mismatch**:
   Include in report:
   - Platform: `uname -s`
   - Query
   - Generated command
   - Whether command worked or failed

3. **Manual fix for macOS**:
   ```bash
   # BSD-compatible version
   ps aux | sort -k3 -rn | head -5
   ```

**Fix Plan**: Platform detection improvements in progress

---

## Telemetry & Privacy Issues

### Problem: Don't understand what telemetry collects

**Status**: Expected concern

**Solution**:

**View exactly what's collected**:
```bash
# Enable telemetry
caro telemetry enable

# Use Caro for a few commands
caro "list files"
caro "show disk usage"

# Export and view telemetry
caro telemetry export preview.json
cat preview.json | jq  # Or open in editor
```

**What you'll see** (example):
```json
{
  "event_type": "command_generated",
  "timestamp": "2026-01-13T10:00:00Z",
  "platform": "macos",
  "shell": "zsh",
  "query_length": 20,
  "command_length": 35,
  "backend": "static",
  "success": true,
  "response_time_ms": 12
}
```

**What you WON'T see**:
- ‚ùå Your actual query or command
- ‚ùå File paths, directory names
- ‚ùå Your name, email, IP address
- ‚ùå Environment variables
- ‚ùå Any personally identifiable information

**Privacy Guarantee**: We have 220+ automated tests to ensure **ZERO PII** in telemetry.

---

### Problem: Can't disable telemetry

**Symptoms**:
```bash
$ caro telemetry disable
$ caro telemetry status
Telemetry: enabled  # Still enabled!
```

**Cause**:
Bug in telemetry toggle system

**Status**: If this occurs, it's a **P1 bug** - report immediately!

**Workaround**:
```bash
# Manual disable (if toggle fails)
# Location varies by platform:

# macOS
rm -f ~/Library/Application\ Support/caro/telemetry.enabled

# Linux
rm -f ~/.config/caro/telemetry.enabled

# Verify
caro telemetry status  # Should show: disabled
```

---

### Problem: Telemetry export fails

**Symptoms**:
```bash
$ caro telemetry export my-data.json
Error: Failed to export telemetry
```

**Possible Causes**:
1. No telemetry data collected yet
2. Permission issues with output file
3. Bug in export functionality

**Solutions**:

**Solution 1: Check if telemetry is enabled**
```bash
caro telemetry status
# Must show: enabled
```

**Solution 2: Check if data exists**
```bash
# Use Caro for a few commands first
caro "list files"
caro "show disk usage"

# Then try export
caro telemetry export my-data.json
```

**Solution 3: Check file permissions**
```bash
# Try exporting to /tmp (universally writable)
caro telemetry export /tmp/telemetry.json

# If that works, issue is with target directory permissions
```

**Solution 4: Report as bug**
If none of the above works, report with:
- Platform
- Telemetry status output
- Exact error message

---

## Performance Issues

### Problem: High CPU usage

**Symptoms**:
```bash
$ top
# Caro using 80%+ CPU
```

**Expected CPU Usage**:
- Static matcher: Negligible (<1%)
- LLM backend: 20-40% during generation, then drops to 0%

**Possible Causes**:
1. LLM model running locally (expected for embedded backend)
2. Complex query requiring multiple attempts
3. Bug causing infinite loop

**Solutions**:

**Solution 1: Check if LLM backend is active**
```bash
caro --verbose "your query"
# If backend: embedded, CPU spike is expected during generation
```

**Solution 2: Wait for generation to complete**
LLM generation can take 1-5 seconds with high CPU, then drops to zero.

**Solution 3: Kill and restart if stuck**
```bash
# If CPU stays high for >10 seconds
killall caro

# Try simpler query
caro "list files"
```

**Solution 4: Report as bug**
If CPU stays high continuously, report with:
- Query that triggered high CPU
- Platform
- How long CPU stayed high

---

### Problem: High memory usage

**Symptoms**:
```bash
$ ps aux | grep caro
# Caro using 1GB+ memory
```

**Expected Memory Usage**:
- Static matcher only: <50MB
- With LLM backend: 200-500MB (model loaded in memory)

**Possible Causes**:
1. LLM model loaded (expected for embedded backend)
2. Memory leak (bug)

**Solutions**:

**Solution 1: Check backend usage**
```bash
# If you're using LLM backend frequently, memory usage is expected
caro --verbose "your query"
```

**Solution 2: Restart Caro**
```bash
# Memory should be released after process ends
# Try new query
caro "list files"
```

**Solution 3: Report if excessive**
If memory usage grows continuously or exceeds 1GB, report as bug.

---

## Reporting New Issues

### When to Report

**Always Report**:
- ‚ùå Incorrect commands generated
- ‚ùå Dangerous commands not warned
- ‚ùå Installation failures
- ‚ùå Privacy concerns (PII in telemetry)
- ‚ùå Crashes or hangs
- ‚ùå Platform mismatches

**Consider Reporting**:
- ü§î Slow performance (>2 seconds)
- ü§î Confusing error messages
- ü§î Unexpected behavior

---

### How to Report

**GitHub Issues** (Primary):
https://github.com/your-org/caro/issues

**Use "Bug Report" template** with:
1. **Query**: What you typed
2. **Generated Command**: What Caro produced
3. **Expected**: What you expected
4. **Platform**: macOS/Linux, version
5. **Caro Version**: `caro --version`
6. **Shell**: bash, zsh, fish

**Example Report**:
```
Title: Incorrect command for "find large files" on macOS

Query: caro "find files larger than 10MB"
Generated: find . -size +10MB
Expected: find . -type f -size +10M

Error when running generated command:
find: invalid size

Platform: macOS 14.2
Caro Version: 1.1.0-beta
Shell: zsh
```

---

### Discord (Quick Questions)

**For questions or help**:
- Join: [Discord invite link]
- Channel: #support
- Ask away! Community and team will help

**Don't use Discord for**:
- Bug reports (use GitHub instead)
- Detailed technical issues (GitHub is better for tracking)

---

## Document Updates

This document is updated regularly throughout the release cycle:

**Update Frequency**:
- **During Beta** (Jan 13-17): Daily updates as issues are reported
- **Post-Release** (Jan 24+): Weekly updates
- **Post-GA** (Feb 15+): As needed

**Last Updated**: 2026-01-08

**Next Update**: January 13, 2026 (after Day 1 of beta)

---

**End of Document**

If you encounter an issue not listed here, please report it via GitHub Issues or ask in Discord #support!
