# Release Runbook & Standard Operating Procedures (SOP)

**Release**: v1.1.0-beta
**Created**: 2026-01-08
**Owner**: Release Manager
**Last Updated**: 2026-01-08

---

## Purpose

This runbook provides detailed step-by-step operational procedures for executing the v1.1.0-beta release from preparation through post-launch stabilization. Every procedure includes commands, expected outputs, troubleshooting steps, and rollback procedures.

---

## Audience

- **Primary**: Release Manager (executing release procedures)
- **Secondary**: Engineering Lead (technical troubleshooting)
- **Tertiary**: All team members (reference for their role-specific procedures)

---

## Document Structure

1. **Pre-Release Procedures** (T-7 to T-1)
2. **Launch Day Procedures** (T-0, Hour-by-Hour)
3. **Post-Launch Procedures** (T+1 to T+7)
4. **Emergency Procedures** (Incident Response & Rollback)
5. **Standard Operating Procedures** (Recurring Operations)

---

## Section 1: Pre-Release Procedures

### T-7 Days (January 8): Planning Complete Gate

**Objective**: Verify all planning artifacts are complete and release is GO for execution phase.

#### Procedure: Planning Verification

```bash
# 1. Verify all planning documents exist
cd /path/to/caro
ls -1 .claude/releases/v1.1.0-*.md | wc -l
# Expected: 73 documents

# 2. Verify git status is clean
git status
# Expected: "nothing to commit, working tree clean"

# 3. Verify all GitHub issues are triaged
gh issue list --label "v1.1.0-beta" --state open
# Expected: All issues have priority labels (P0/P1/P2/P3)

# 4. Verify team assignments
cat .claude/releases/v1.1.0-release-team-roles-responsibilities.md | grep "Owner:"
# Expected: All roles have assigned owners

# 5. Verify timeline is achievable
cat .claude/releases/v1.1.0-release-timeline-milestones.md | grep "Status:"
# Expected: All T-7 milestones marked complete
```

**Expected Outputs**:
- âœ… 73 planning documents present
- âœ… Git working tree clean
- âœ… All issues triaged and prioritized
- âœ… All roles assigned
- âœ… Timeline milestones on track

**GO/NO-GO Decision**:
- **GO**: All checks pass â†’ Proceed to build phase
- **NO-GO**: Any check fails â†’ Address blockers, reassess timeline

**Troubleshooting**:
- **Missing documents**: Check commit history, regenerate if needed
- **Unassigned roles**: Emergency meeting to assign owners
- **Timeline slip**: Adjust launch date or descope features

---

### T-6 Days (January 9): Beta Build Ready Gate

**Objective**: Build beta binaries for all platforms, verify functionality, prepare for beta testing.

#### Procedure: Build Beta Binaries

```bash
# 1. Checkout release branch
git checkout -b release/v1.1.0-beta

# 2. Update version in Cargo.toml
sed -i '' 's/version = "1.0.0"/version = "1.1.0-beta"/' Cargo.toml

# 3. Update CHANGELOG.md
cat >> CHANGELOG.md <<EOF

## [1.1.0-beta] - 2026-01-15

### Added
- MLX backend for Apple Silicon optimization
- Static command patterns for common operations
- Enhanced safety validation with 100+ patterns
- Privacy-first telemetry (ZERO PII)

### Changed
- Improved prompt engineering for better command generation
- Enhanced error messages with actionable suggestions

### Fixed
- Platform detection for BSD vs GNU commands
- JSON parsing robustness for LLM responses

EOF

# 4. Build for all platforms
cargo build --release --target x86_64-apple-darwin
cargo build --release --target aarch64-apple-darwin
cargo build --release --target x86_64-unknown-linux-gnu
cargo build --release --target aarch64-unknown-linux-gnu

# 5. Verify binaries
ls -lh target/x86_64-apple-darwin/release/caro
ls -lh target/aarch64-apple-darwin/release/caro
ls -lh target/x86_64-unknown-linux-gnu/release/caro
ls -lh target/aarch64-unknown-linux-gnu/release/caro

# Expected: All binaries exist, size ~10-15MB each

# 6. Test binary execution
./target/x86_64-apple-darwin/release/caro --version
# Expected: "caro 1.1.0-beta"

# 7. Run smoke tests
./target/x86_64-apple-darwin/release/caro "list files in current directory"
# Expected: Valid ls command generated

# 8. Commit version bump
git add Cargo.toml Cargo.lock CHANGELOG.md
git commit -m "chore(release): Bump version to 1.1.0-beta"
git push origin release/v1.1.0-beta
```

**Expected Outputs**:
- âœ… 4 platform binaries built successfully
- âœ… Binary sizes reasonable (~10-15MB)
- âœ… Smoke tests pass on all platforms
- âœ… Version correctly updated in all files

**GO/NO-GO Decision**:
- **GO**: All binaries build and smoke tests pass â†’ Proceed to beta testing
- **NO-GO**: Build failures or smoke tests fail â†’ Fix issues, rebuild

**Troubleshooting**:
- **Build fails**: Check Rust version (`rustc --version`), dependencies, compiler errors
- **Binary size too large**: Enable LTO, check for debug symbols
- **Smoke test fails**: Check backend initialization, model loading, prompt formatting

---

### T-5 Days (January 10): Beta Tester Recruitment

**Objective**: Recruit 3-5 beta testers with diverse profiles, provide them with beta builds and instructions.

#### Procedure: Recruit Beta Testers

```bash
# 1. Post recruitment message on Discord
# See .claude/releases/v1.1.0-release-communication-templates.md
# Section: "Beta Tester Recruitment (Discord)"

# 2. Track applicants in spreadsheet
# Create Google Sheet: "v1.1.0-beta Tester Tracker"
# Columns: Name, Platform, Experience Level, Availability, Status

# 3. Select 3-5 testers (diverse profiles)
# - 1 novice (macOS)
# - 1 expert (Linux)
# - 1 SRE/DevOps (Linux)
# - 1 data scientist (macOS)
# - 1 backup (any platform)

# 4. Send beta tester onboarding email
# See .claude/releases/v1.1.0-release-communication-templates.md
# Section: "Beta Tester Onboarding (Email)"

# 5. Create private Discord channel #beta-testers
# Invite selected testers, share beta builds

# 6. Provide test instructions
# Share .claude/beta-testing/test-cases.yaml
# Share .claude/beta-testing/beta-tester-guide.md
```

**Expected Outputs**:
- âœ… 3-5 beta testers recruited
- âœ… Diverse platforms (macOS, Linux) and experience levels
- âœ… Private #beta-testers channel created
- âœ… Beta builds and instructions shared

**GO/NO-GO Decision**:
- **GO**: 3+ testers confirmed â†’ Proceed to beta testing phase
- **NO-GO**: <3 testers â†’ Extend recruitment, adjust timeline

**Troubleshooting**:
- **Low response rate**: Post in additional channels (Reddit, Twitter)
- **All same platform**: Reach out directly to known users on other platforms
- **Testers drop out**: Have 1-2 backup testers ready

---

### T-4 to T-2 Days (January 11-13): Beta Testing Execution

**Objective**: Beta testers execute test cases, report issues, team triages and fixes critical bugs.

#### Procedure: Monitor Beta Testing Progress

```bash
# 1. Daily check-in with beta testers (9 AM EST)
# Post in #beta-testers: "Good morning! How's testing going? Any blockers?"

# 2. Track testing progress
# Google Sheet: "Beta Testing Progress"
# Columns: Tester, Test Cases Completed, Issues Found, Status

# 3. Triage reported issues
gh issue list --label "beta-testing" --state open

# For each issue:
# - Assign priority (P0: blocking, P1: high, P2: medium, P3: low)
# - Assign owner (engineer)
# - Set milestone (v1.1.0-beta or later)

# 4. Fix P0 bugs immediately
# P0 = Crashes, data loss, privacy violations, safety failures

# Example P0 fix workflow:
git checkout -b fix/beta-p0-issue-127
# Fix the bug
cargo test
git commit -m "fix(safety): Block rm -rf * pattern"
git push origin fix/beta-p0-issue-127
gh pr create --title "fix(safety): Block rm -rf * pattern" --body "Fixes #127"
# Review, merge, rebuild beta

# 5. Daily status update to team (5 PM EST)
# Post in #release channel:
# "Beta Testing Day N Update:
# - Tests completed: X/75
# - Issues found: Y (P0: A, P1: B, P2: C, P3: D)
# - Blockers: [list or "none"]"
```

**Expected Outputs**:
- âœ… 75 test cases executed by 3+ testers
- âœ… All issues triaged and prioritized
- âœ… All P0 bugs fixed within 24 hours
- âœ… Daily progress updates shared

**GO/NO-GO Decision (Beta Complete Gate)**:
- **GO**: All P0 bugs fixed, P1 bugs tracked, testers confirm no blockers â†’ Proceed to launch prep
- **NO-GO**: P0 bugs remain, multiple testers report blockers â†’ Extend beta, fix issues

**Troubleshooting**:
- **P0 bug found late**: Emergency fix, rebuild, re-test affected areas
- **Tester unresponsive**: Contact backup tester
- **Too many issues**: Prioritize ruthlessly, consider delaying launch

---

### T-1 Day (January 14): Launch Readiness Gate

**Objective**: Final verification before launch - all systems go, no P0/P1 bugs, team ready.

#### Procedure: Pre-Launch Verification

```bash
# 1. Run full test suite
cargo test --all-features
# Expected: All tests pass

# 2. Run safety pattern validation
cargo run --bin safety-validator -- --mode strict
# Expected: 100+ patterns validated, ZERO failures

# 3. Run privacy validation (Manual Audit #1)
caro config telemetry --enable

# Execute 20+ diverse commands with potential PII
caro "find files in /Users/alice/Documents"
caro "search for user@example.com in logs"
caro "show my ssh keys"
caro "list environment variables"
caro "show git config with email"

# Export telemetry
caro telemetry export manual-audit-1.json

# Manual inspection
cat manual-audit-1.json | jq .

# CRITICAL: Verify ZERO PII in telemetry
# - No email addresses
# - No file paths with usernames
# - No IP addresses
# - No environment variables
# - No API keys

# 4. Run privacy validation (Manual Audit #2 - Different Reviewer)
# Repeat above with different reviewer

# 5. Performance benchmarking
hyperfine --warmup 3 './target/release/caro "list files"'
# Expected: p95 < 1000ms

# 6. Binary size check
ls -lh target/release/caro
# Expected: < 50MB (preferably ~10-15MB)

# 7. Verify release checklist
# Open .claude/releases/v1.1.0-release-checklist-verification-template.md
# Check off all T-24 hour items

# 8. Team readiness check
# Poll all team members:
# "Are you ready for launch tomorrow? Any blockers?"
```

**Expected Outputs**:
- âœ… All tests passing (unit, integration, E2E)
- âœ… Safety validation: 100+ patterns, ZERO failures
- âœ… Privacy validation: ZERO PII found (dual manual audits)
- âœ… Performance: p95 < 1s
- âœ… Binary size: < 50MB
- âœ… Team confirms readiness

**GO/NO-GO Decision**:
- **GO**: All checks pass, team ready â†’ LAUNCH TOMORROW
- **NO-GO**: Any critical check fails â†’ Fix immediately or delay launch

**Troubleshooting**:
- **Tests failing**: Fix bugs, re-test, may need to delay
- **PII found**: IMMEDIATE FIX, disable telemetry if necessary, re-audit
- **Performance issues**: Profile, optimize, re-benchmark
- **Team not ready**: Address concerns, provide support, may delay if serious

---

## Section 2: Launch Day Procedures (T-0)

### Hour-by-Hour Execution Schedule

#### 8:00 AM EST: Final GO/NO-GO Decision

```bash
# 1. Final smoke test
./target/release/caro --version
./target/release/caro "list files in current directory"

# 2. Check GitHub Actions status
gh run list --limit 5
# Expected: All recent runs passing

# 3. Check all team members online
# Discord: Verify all team members are online and ready

# 4. Final GO/NO-GO poll
# Post in #release channel:
# "@everyone Final GO/NO-GO poll for v1.1.0-beta launch in 1 hour:
# - All tests passing? âœ…
# - Privacy validated? âœ…
# - No P0 bugs? âœ…
# - Team ready? âœ…
#
# React with âœ… to confirm GO, âŒ for NO-GO"

# 5. Decision announcement
# If all âœ…: "ðŸš€ WE ARE GO FOR LAUNCH at 9 AM EST!"
# If any âŒ: Triage issue, decide on delay
```

**GO/NO-GO Criteria**:
- All automated tests passing
- Privacy validation complete (ZERO PII)
- Zero P0/P1 bugs open
- All team members confirm readiness
- No infrastructure outages (GitHub, crates.io, CDN)

---

#### 9:00 AM EST: Tag Release

```bash
# 1. Create and push git tag
git tag -a v1.1.0-beta -m "Release v1.1.0-beta

Features:
- MLX backend for Apple Silicon
- Static command patterns
- Enhanced safety validation (100+ patterns)
- Privacy-first telemetry (ZERO PII)

Release Date: 2026-01-15
Release Manager: [Name]"

git push origin v1.1.0-beta

# 2. Verify tag on GitHub
gh release list
# Expected: v1.1.0-beta appears

# 3. Announce in #release channel
# "âœ… Tag v1.1.0-beta created and pushed. Building binaries now..."
```

**Expected Outputs**:
- âœ… Git tag created and pushed
- âœ… Tag visible on GitHub
- âœ… Team notified

**Troubleshooting**:
- **Tag already exists**: Delete old tag (`git tag -d v1.1.0-beta`), recreate
- **Push fails**: Check network, GitHub status, authentication

---

#### 10:00 AM EST: Build and Upload Binaries

```bash
# 1. Build release binaries (all platforms)
cargo build --release --target x86_64-apple-darwin
cargo build --release --target aarch64-apple-darwin
cargo build --release --target x86_64-unknown-linux-gnu
cargo build --release --target aarch64-unknown-linux-gnu

# 2. Create release archives
cd target/x86_64-apple-darwin/release
tar -czf caro-v1.1.0-beta-x86_64-apple-darwin.tar.gz caro
shasum -a 256 caro-v1.1.0-beta-x86_64-apple-darwin.tar.gz > caro-v1.1.0-beta-x86_64-apple-darwin.tar.gz.sha256

cd ../../aarch64-apple-darwin/release
tar -czf caro-v1.1.0-beta-aarch64-apple-darwin.tar.gz caro
shasum -a 256 caro-v1.1.0-beta-aarch64-apple-darwin.tar.gz > caro-v1.1.0-beta-aarch64-apple-darwin.tar.gz.sha256

cd ../../x86_64-unknown-linux-gnu/release
tar -czf caro-v1.1.0-beta-x86_64-unknown-linux-gnu.tar.gz caro
sha256sum caro-v1.1.0-beta-x86_64-unknown-linux-gnu.tar.gz > caro-v1.1.0-beta-x86_64-unknown-linux-gnu.tar.gz.sha256

cd ../../aarch64-unknown-linux-gnu/release
tar -czf caro-v1.1.0-beta-aarch64-unknown-linux-gnu.tar.gz caro
sha256sum caro-v1.1.0-beta-aarch64-unknown-linux-gnu.tar.gz > caro-v1.1.0-beta-aarch64-unknown-linux-gnu.tar.gz.sha256

# 3. Create GitHub release with binaries
cd ../../../../../
gh release create v1.1.0-beta \
  --title "v1.1.0-beta - Apple Silicon & Enhanced Safety" \
  --notes-file .claude/releases/v1.1.0-release-notes.md \
  target/x86_64-apple-darwin/release/caro-v1.1.0-beta-x86_64-apple-darwin.tar.gz \
  target/x86_64-apple-darwin/release/caro-v1.1.0-beta-x86_64-apple-darwin.tar.gz.sha256 \
  target/aarch64-apple-darwin/release/caro-v1.1.0-beta-aarch64-apple-darwin.tar.gz \
  target/aarch64-apple-darwin/release/caro-v1.1.0-beta-aarch64-apple-darwin.tar.gz.sha256 \
  target/x86_64-unknown-linux-gnu/release/caro-v1.1.0-beta-x86_64-unknown-linux-gnu.tar.gz \
  target/x86_64-unknown-linux-gnu/release/caro-v1.1.0-beta-x86_64-unknown-linux-gnu.tar.gz.sha256 \
  target/aarch64-unknown-linux-gnu/release/caro-v1.1.0-beta-aarch64-unknown-linux-gnu.tar.gz \
  target/aarch64-unknown-linux-gnu/release/caro-v1.1.0-beta-aarch64-unknown-linux-gnu.tar.gz.sha256

# 4. Verify release on GitHub
gh release view v1.1.0-beta
# Expected: Release visible with all 8 files (4 binaries + 4 checksums)

# 5. Announce in #release channel
# "âœ… Binaries built and uploaded to GitHub. Updating install script..."
```

**Expected Outputs**:
- âœ… 4 platform binaries built
- âœ… 8 files uploaded to GitHub (binaries + checksums)
- âœ… Release visible on github.com/username/caro/releases

**Troubleshooting**:
- **Build fails**: Check dependencies, Rust version, fix errors
- **Upload fails**: Check network, GitHub rate limits, file sizes
- **Missing files**: Re-build, re-upload

---

#### 11:00 AM EST: Update Install Script

```bash
# 1. Update install.sh to point to v1.1.0-beta
# Edit install.sh:
VERSION="v1.1.0-beta"

# 2. Test install script locally
./install.sh
# Expected: Downloads v1.1.0-beta binary, installs successfully

# 3. Commit and push
git add install.sh
git commit -m "chore(install): Update install script to v1.1.0-beta"
git push origin main

# 4. Verify on GitHub
curl -fsSL https://raw.githubusercontent.com/username/caro/main/install.sh | grep "VERSION="
# Expected: VERSION="v1.1.0-beta"

# 5. Announce in #release channel
# "âœ… Install script updated. Ready for announcements!"
```

**Expected Outputs**:
- âœ… Install script points to v1.1.0-beta
- âœ… Script tested locally
- âœ… Changes committed and pushed

**Troubleshooting**:
- **Script fails**: Check download URLs, permissions, error messages
- **Push fails**: Check authentication, network

---

#### 12:00 PM EST: Launch Announcements

```bash
# 1. Discord announcement
# See .claude/releases/v1.1.0-release-communication-templates.md
# Section: "Launch Announcement (Discord)"
# Post in #announcements channel

# 2. Twitter thread
# See .claude/releases/v1.1.0-release-communication-templates.md
# Section: "Launch Announcement (Twitter Thread)"
# Post 5-tweet thread

# 3. GitHub release notes
# Already published with `gh release create`
# Verify visible at github.com/username/caro/releases/v1.1.0-beta

# 4. Reddit post
# See .claude/releases/v1.1.0-release-communication-templates.md
# Section: "Launch Announcement (Reddit r/commandline)"
# Post to r/commandline

# 5. Email to beta testers
# See .claude/releases/v1.1.0-release-communication-templates.md
# Section: "Beta Testing Complete - Thank You (Email)"

# 6. Update website (if applicable)
# Add release announcement to homepage
# Update download links

# 7. Announce in #release channel
# "âœ… All announcements published! Monitoring begins now..."
```

**Expected Outputs**:
- âœ… Discord announcement posted
- âœ… Twitter thread published
- âœ… GitHub release visible
- âœ… Reddit post published
- âœ… Beta testers thanked via email

**Troubleshooting**:
- **Post fails**: Check authentication, rate limits, network
- **Low visibility**: Cross-post to additional channels, engage with comments

---

#### 1:00 PM - 6:00 PM EST: Active Monitoring

```bash
# Every 30 minutes, check:

# 1. Download metrics
gh api repos/:owner/:repo/releases/tags/v1.1.0-beta | jq '.assets[] | {name: .name, downloads: .download_count}'

# 2. GitHub issues
gh issue list --label "v1.1.0-beta" --state open

# 3. Discord feedback
# Monitor #general, #support, #feedback channels
# Respond to questions, gather feedback

# 4. Twitter engagement
# Monitor @mentions, replies, quote tweets
# Engage with users, answer questions

# 5. Error reports
# Check telemetry dashboard for error spikes
# Check crash reports

# 6. System health
# GitHub Actions status
# CDN uptime
# crates.io status

# Hourly status update in #release channel:
# "T+N hours update:
# - Downloads: X
# - Active users: Y
# - Issues reported: Z (P0: A, P1: B)
# - System health: All green / Yellow: [issue] / Red: [critical issue]"
```

**Monitoring Priorities**:
1. **P0 Issues**: Crashes, data loss, privacy violations â†’ Fix immediately
2. **P1 Issues**: High-impact bugs â†’ Fix within 24 hours
3. **User Questions**: Respond within 1 hour during active monitoring
4. **Positive Feedback**: Engage, thank users, share testimonials

**Troubleshooting**:
- **Download spike**: Ensure CDN can handle load, monitor costs
- **Error spike**: Investigate root cause, prepare hotfix if P0
- **Negative feedback**: Respond professionally, gather details, create issues
- **System outage**: Follow emergency procedures (see Section 4)

---

## Section 3: Post-Launch Procedures

### T+1 Day (January 16): Day 1 Review

```bash
# 1. Gather Day 1 metrics
# - Total downloads
# - Active Weekly Users (AWU)
# - Issues reported (by priority)
# - User satisfaction score (from Discord reactions, Reddit upvotes)

# 2. Daily stand-up (9 AM EST)
# Agenda:
# - What went well yesterday?
# - What issues emerged?
# - What's the plan for today?
# - Any blockers?

# 3. Triage new issues
gh issue list --label "v1.1.0-beta" --state open --created ">=$(date -u -d '1 day ago' +%Y-%m-%d)"

# 4. Plan P1 bug fixes
# Create fix branches for any P1 bugs
# Assign to engineers

# 5. Day 1 report
# Post in #release channel:
# "Day 1 Review:
# - Downloads: X (Target: 50)
# - AWU: Y (Target: 30)
# - Issues: Z (P0: A, P1: B, P2: C)
# - Sentiment: Positive/Mixed/Negative
# - Top Issue: [description]
# - Plan: [action items]"
```

**Success Criteria (Day 1)**:
- Downloads â‰¥ 50
- AWU â‰¥ 30
- Zero P0 bugs
- P1 bugs < 3
- User sentiment: Mostly positive

---

### T+2 to T+7 Days: Week 1 Monitoring

```bash
# Daily check-in (9 AM EST):

# 1. Check metrics dashboard
# See .claude/releases/v1.1.0-release-metrics-analytics-dashboard.md
# Monitor North Star Metric (AWU) and 5 core metrics

# 2. Review overnight issues
gh issue list --label "v1.1.0-beta" --state open --created ">=$(date -u -d '1 day ago' +%Y-%m-%d)"

# 3. Community engagement
# Respond to Discord questions
# Respond to Reddit comments
# Respond to Twitter mentions

# 4. Bug fix progress
# Check status of in-progress bug fixes
# Review and merge completed PRs

# 5. Daily status update (5 PM EST)
# Post in #release channel:
# "Day N Update:
# - Downloads (total): X
# - AWU (Week 1): Y
# - Issues closed today: Z
# - Issues remaining: P0: A, P1: B
# - Highlight: [positive feedback / milestone]"

# Weekly retrospective (Friday 5 PM EST):
# See .claude/releases/v1.1.0-release-retrospective-continuous-improvement.md
# Section: "Post-Launch Retrospective (Week 1)"
```

**Success Criteria (Week 1)**:
- Downloads â‰¥ 200 (MVR: 100, Target: 200, Outstanding: 250)
- AWU â‰¥ 150 (MVR: 75, Target: 150, Outstanding: 180)
- User satisfaction â‰¥ 80%
- Zero P0 bugs
- P1 bugs < 5
- Team morale: Good (â‰¥ 4/5)

---

## Section 4: Emergency Procedures

### P0 Incident Response

**Definition**: P0 = Critical issue requiring immediate action (crashes, data loss, privacy violation, safety failure).

#### Procedure: P0 Incident Response

```bash
# 1. IDENTIFY (Within 5 minutes of report)
# Someone reports P0 issue via Discord, GitHub, or monitoring alert

# 2. ALERT (Immediately)
# Post in #release channel:
# "ðŸš¨ P0 INCIDENT: [Brief description]
# Status: INVESTIGATING
# Owner: [Name]
# ETA: 1 hour"

# 3. INVESTIGATE (Within 15 minutes)
# Reproduce the issue
# Identify root cause
# Assess impact

# 4. TRIAGE (Within 30 minutes)
# Determine severity (confirm P0 or downgrade)
# Decide on fix strategy:
# - Hotfix (code change)
# - Configuration change (no code deploy)
# - Rollback (revert to previous version)
# - Disable feature (feature flag)

# 5. FIX (Within 1-4 hours depending on severity)
# For hotfix:
git checkout -b hotfix/p0-issue-N
# Fix the bug
cargo test
git commit -m "fix(CRITICAL): [description]"
git push origin hotfix/p0-issue-N
gh pr create --label "P0" --label "hotfix"
# Fast-track review and merge

# 6. DEPLOY (Within 1 hour of fix)
# Follow hotfix deployment procedure (see below)

# 7. VERIFY (Within 30 minutes of deploy)
# Confirm issue is resolved
# Monitor for regressions

# 8. COMMUNICATE (Throughout and after resolution)
# Status updates every 30 minutes in #release channel
# User communication:
# - Discord announcement
# - Twitter update
# - GitHub issue update

# Final post-incident report:
# "âœ… P0 RESOLVED: [Brief description]
# Root Cause: [Explanation]
# Fix: [What was done]
# Impact: [How many users affected]
# Prevention: [What we'll do to prevent recurrence]
# Apology: [If users were affected]"

# 9. POST-MORTEM (Within 48 hours)
# See .claude/releases/v1.1.0-release-retrospective-continuous-improvement.md
# Section: "Blameless Post-Mortem Process"
```

**Example P0 Scenarios**:
1. **Crash on startup**: Users can't use Caro â†’ Hotfix within 2 hours
2. **PII in telemetry**: Privacy violation â†’ Disable telemetry immediately, delete data, fix within 4 hours
3. **Dangerous command executed**: Safety failure â†’ Hotfix validation logic, add pattern, deploy within 2 hours
4. **Data corruption**: User data lost â†’ Rollback immediately, fix within 4 hours

---

### Hotfix Deployment Procedure

```bash
# 1. Build hotfix binary
cargo build --release

# 2. Test hotfix locally
cargo test
./target/release/caro [reproduce issue]
# Verify fix works

# 3. Tag hotfix version
git tag -a v1.1.0-beta.1 -m "Hotfix: [description]"
git push origin v1.1.0-beta.1

# 4. Build and upload binaries (same as launch day)
# See Section 2: "10:00 AM EST: Build and Upload Binaries"

# 5. Update install script to point to v1.1.0-beta.1
# See Section 2: "11:00 AM EST: Update Install Script"

# 6. Announce hotfix
# Discord: "ðŸ”§ Hotfix v1.1.0-beta.1 released: [description]. Update with: curl -fsSL https://... | sh"
# Twitter: "[Quick tweet about hotfix]"
# GitHub: Update release notes with hotfix details

# 7. Monitor adoption
# Track downloads of hotfix version
# Monitor for continued reports of the issue

# 8. Post-mortem
# Schedule blameless post-mortem within 48 hours
```

**Hotfix Timeline**:
- P0 (Critical): 1-4 hours
- P1 (High): 12-24 hours
- P2 (Medium): 1-3 days
- P3 (Low): Next release

---

### Rollback Procedure

**When to Rollback**: If fix is unclear, impact is widespread, or hotfix makes things worse.

```bash
# 1. Decide to rollback
# Post in #release channel:
# "ðŸ”„ ROLLBACK INITIATED: Reverting to v1.0.0 due to [reason]"

# 2. Update install script to point to previous version
sed -i 's/VERSION="v1.1.0-beta"/VERSION="v1.0.0"/' install.sh
git add install.sh
git commit -m "revert: Rollback to v1.0.0"
git push origin main

# 3. Hide/delist problematic release on GitHub
gh release edit v1.1.0-beta --draft
# Or delete if necessary:
# gh release delete v1.1.0-beta --yes

# 4. Communicate rollback
# Discord: "âš ï¸ We've rolled back v1.1.0-beta to v1.0.0 due to [issue]. If you installed v1.1.0-beta, please reinstall: curl -fsSL https://... | sh"
# Twitter: [Rollback announcement]
# GitHub: Add notice to v1.1.0-beta release notes

# 5. Fix issue offline
# Create hotfix branch
# Fix the issue
# Test extensively
# Prepare v1.1.1-beta

# 6. Re-launch when ready
# Follow launch day procedures again
```

**Rollback Triggers**:
- Widespread crashes (>10% of users)
- Data loss or corruption
- Privacy violation (PII leak)
- Safety failure (dangerous commands executed)
- Unable to fix within 4 hours

---

## Section 5: Standard Operating Procedures

### Daily Release Manager Checklist

```bash
# Morning (9 AM EST):
- [ ] Check metrics dashboard (AWU, downloads, errors)
- [ ] Review new GitHub issues (prioritize and assign)
- [ ] Check Discord for overnight feedback
- [ ] Team stand-up (15 min)

# Afternoon (2 PM EST):
- [ ] Review PR status (approve/merge)
- [ ] Community engagement (Discord, Twitter, Reddit)
- [ ] Update metrics tracking

# Evening (5 PM EST):
- [ ] Daily status update in #release channel
- [ ] Prepare tomorrow's priorities
- [ ] Handoff notes (if rotating release manager)
```

---

### Weekly Release Sync Agenda

**When**: Every Monday 10 AM EST (during release window)
**Duration**: 30 minutes
**Attendees**: Full team

**Agenda**:
1. **Previous Week Review** (5 min)
   - Key metrics (downloads, AWU, issues)
   - What went well
   - What needs improvement

2. **Current Week Plan** (10 min)
   - Priorities for this week
   - Bug fixes in progress
   - Community initiatives

3. **Blockers & Risks** (5 min)
   - Current blockers
   - Emerging risks
   - Mitigation plans

4. **Retrospective Actions** (5 min)
   - Status of action items from previous retro
   - New action items

5. **Q&A / Open Discussion** (5 min)

---

### Bug Triage Workflow

```bash
# 1. New issue reported
# Someone creates GitHub issue or reports in Discord

# 2. Reproduce
# Try to reproduce the issue locally
# Ask reporter for more details if needed

# 3. Prioritize
# P0: Crashes, data loss, privacy violations, safety failures â†’ Fix immediately
# P1: High-impact bugs, many users affected â†’ Fix within 24 hours
# P2: Medium-impact bugs, some users affected â†’ Fix within 1 week
# P3: Low-impact bugs, edge cases â†’ Fix in next release

# 4. Assign
# Add labels: P0/P1/P2/P3, bug, v1.1.0-beta
# Assign to engineer
# Add to project board

# 5. Fix
# Engineer creates fix branch
# Implements fix with tests
# Creates PR

# 6. Review
# Code review by another engineer
# Test the fix
# Merge when approved

# 7. Deploy
# Hotfix for P0/P1 (immediate)
# Patch release for P2 (weekly)
# Next release for P3

# 8. Close
# Close GitHub issue
# Notify reporter
# Update release notes
```

---

### Community Support Workflow

```bash
# User asks question in Discord #support:

# 1. Acknowledge (within 1 hour during business hours)
# "Thanks for reaching out! Let me help you with [issue]..."

# 2. Diagnose
# Ask clarifying questions
# Check if it's a known issue
# Reproduce if possible

# 3. Provide Solution
# Link to documentation if available
# Provide step-by-step instructions
# Share example commands

# 4. Follow Up
# "Did that solve your issue?"
# If not, escalate to engineering team

# 5. Document
# If it's a common question, add to FAQ
# Update documentation if unclear
# Create GitHub issue if it's a bug

# 6. Gather Feedback
# Ask: "How's your experience with Caro so far?"
# Note positive/negative feedback for retrospective
```

**Response Time Targets**:
- **Discord**: 1 hour during business hours (9 AM - 6 PM EST)
- **GitHub issues**: 24 hours
- **Twitter**: 2 hours
- **Reddit**: 4 hours
- **Email**: 24 hours

---

### Release Metrics Review Procedure

**When**: Weekly (Friday 4 PM EST)
**Duration**: 30 minutes
**Owner**: Release Manager

```bash
# 1. Pull metrics from dashboard
# See .claude/releases/v1.1.0-release-metrics-analytics-dashboard.md

# 2. Calculate week-over-week growth
# Downloads: X% increase/decrease
# AWU: Y% increase/decrease
# Activation rate: Z% increase/decrease

# 3. Identify trends
# Are we on track to hit targets?
# Any concerning patterns? (high churn, low activation)

# 4. Action items
# If metrics are below target, create action plan
# If metrics are on track, identify what's working

# 5. Share with team
# Post in #release channel:
# "Weekly Metrics Review (Week N):
# - Downloads: X (+Y% WoW)
# - AWU: A (+B% WoW)
# - Activation: C% (+D% WoW)
# - Retention: E%
# - Status: On Track / Below Target / Exceeding
# - Action Items: [list]"

# 6. Update tracking spreadsheet
# Google Sheet: "v1.1.0-beta Metrics Tracking"
# Add this week's numbers
```

---

## Section 6: Runbook Maintenance

### When to Update This Runbook

- **After Each Release**: Incorporate lessons learned from retrospectives
- **When Procedures Change**: Update immediately when process changes
- **After Incidents**: Add new troubleshooting steps based on incidents
- **Quarterly Review**: Schedule review to ensure accuracy

### Runbook Changelog

| Date | Change | Author |
|------|--------|--------|
| 2026-01-08 | Initial creation | Release Manager |

---

## Section 7: Quick Reference

### Key Commands Cheat Sheet

```bash
# Version bump
sed -i '' 's/version = "X.Y.Z"/version = "A.B.C"/' Cargo.toml

# Build all platforms
cargo build --release --target x86_64-apple-darwin
cargo build --release --target aarch64-apple-darwin
cargo build --release --target x86_64-unknown-linux-gnu
cargo build --release --target aarch64-unknown-linux-gnu

# Create git tag
git tag -a vX.Y.Z -m "Release vX.Y.Z"
git push origin vX.Y.Z

# Create GitHub release
gh release create vX.Y.Z --title "..." --notes-file ...

# List issues by priority
gh issue list --label "P0" --state open

# Check download counts
gh api repos/:owner/:repo/releases/tags/vX.Y.Z | jq '.assets[] | {name: .name, downloads: .download_count}'
```

### Emergency Contact Info

- **Release Manager**: [Name] - @username on Discord
- **Engineering Lead**: [Name] - @username on Discord
- **Security Lead**: [Name] - @username on Discord
- **Community Lead**: [Name] - @username on Discord

### Key Document Links

- Release Checklist: `.claude/releases/v1.1.0-release-checklist-verification-template.md`
- Communication Templates: `.claude/releases/v1.1.0-release-communication-templates.md`
- Metrics Dashboard: `.claude/releases/v1.1.0-release-metrics-analytics-dashboard.md`
- Risk Matrix: `.claude/releases/v1.1.0-release-risk-assessment-mitigation-matrix.md`
- Retrospective Framework: `.claude/releases/v1.1.0-release-retrospective-continuous-improvement.md`

---

## Appendix: Example Scenarios

### Scenario 1: Successful Launch Day

**Timeline**:
- 8 AM: Final GO/NO-GO - All checks pass âœ…
- 9 AM: Tag v1.1.0-beta created
- 10 AM: Binaries built and uploaded
- 11 AM: Install script updated
- 12 PM: Announcements published
- 1-6 PM: Active monitoring, 50 downloads, 0 issues
- 6 PM: Day 1 complete, exceeded targets

**Outcome**: Smooth launch, no incidents, positive user feedback.

---

### Scenario 2: P0 Bug Found 2 Hours After Launch

**Timeline**:
- 12 PM: Launch announcements published
- 2 PM: User reports crash on Linux
- 2:05 PM: P0 alert posted in #release
- 2:15 PM: Issue reproduced, root cause identified (null pointer)
- 2:30 PM: Hotfix branch created
- 3:00 PM: Fix implemented and tested
- 3:30 PM: PR merged, v1.1.0-beta.1 tagged
- 4:00 PM: Hotfix binaries uploaded
- 4:15 PM: Install script updated
- 4:30 PM: Hotfix announced
- 5:00 PM: Issue resolved, monitoring for regressions

**Outcome**: Fast response, issue fixed within 2.5 hours, minimal user impact.

---

### Scenario 3: Rollback Due to Widespread Issues

**Timeline**:
- 12 PM: Launch announcements published
- 3 PM: Multiple users report crashes (>20% of users)
- 3:15 PM: Emergency meeting, decide to rollback
- 3:30 PM: Install script reverted to v1.0.0
- 3:45 PM: v1.1.0-beta marked as draft on GitHub
- 4:00 PM: Rollback announced to users
- Next 48 hours: Fix issues offline
- 2 days later: Re-launch as v1.1.1-beta

**Outcome**: Quick rollback minimized impact, users appreciate transparency.

---

## Document Control

**Document Version**: 1.0
**Last Reviewed**: 2026-01-08
**Next Review**: 2026-02-15 (post-release retrospective)
**Owner**: Release Manager
**Approvers**: Engineering Lead, Community Lead

**Change History**:
- 2026-01-08: Initial creation (Release Manager)

---

**End of Runbook**

This runbook is a living document. Update it as processes evolve and lessons are learned. Always keep it accurate and actionable.
