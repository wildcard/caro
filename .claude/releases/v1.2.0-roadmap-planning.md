# v1.2.0 Roadmap Planning

**Document Version**: 1.0
**Last Updated**: 2026-01-08
**Status**: Planning Phase
**Owner**: Product Lead

---

## Overview

This document outlines the strategic roadmap for Caro v1.2.0, the first major feature release following the v1.1.0-beta launch. The v1.2.0 release will build on the foundation established in v1.1.0-beta by adding significant performance improvements, new backends, and enhanced user experience features.

**Target Launch**: March 2026 (8 weeks after v1.1.0-beta)

---

## Mission Statement

> Deliver exceptional performance and platform-specific optimizations while maintaining Caro's core values of privacy, safety, and open source accessibility.

---

## Release Goals

### Primary Goals

| Goal | Target | Rationale |
|------|--------|-----------|
| **MLX Backend (Apple Silicon)** | Production-ready | Leverage Apple's unified memory architecture |
| **90%+ Pass Rate** | Improve from 86.2% | Better command accuracy through refinements |
| **<30ms Static Matcher** | From <50ms | Performance optimization for instant feel |
| **Website Launch** | caro-cli.dev live | Professional presence and documentation hub |
| **10,000 GitHub Stars** | Growth | Sustain momentum from v1.1.0 launch |

### Secondary Goals

| Goal | Target | Rationale |
|------|--------|-----------|
| **Command History** | Search and replay | User-requested feature |
| **Shell Integration** | Aliases and completion | Reduce friction |
| **i18n Foundation** | Spanish/French prep | International growth |
| **Plugin Architecture** | Beta | Extensibility for community |

---

## Strategic Context

### Post-v1.1.0 Landscape

**Assumed v1.1.0 Success** (Jan 15 - Mar 1):
- 5,000+ GitHub stars
- 2,000+ active users
- Community feedback collected
- Production bugs identified and fixed
- Beta tester recommendations integrated

**Market Positioning**:
- Proven privacy-first alternative to cloud CLIs
- Strong technical foundation (86.2% baseline)
- Growing community momentum
- Opportunity to differentiate further

---

## Technical Vision

### Three Pillars of v1.2.0

#### 1. Platform Excellence
**Goal**: Best-in-class experience on each platform

**Apple Silicon (MLX Backend)**:
- Native Metal acceleration
- Unified memory optimization
- 10-50x faster inference than embedded backend
- Seamless fallback to embedded when MLX unavailable

**Linux Optimizations**:
- systemd integration
- Better package manager detection
- Improved GNU tooling support

**macOS Optimizations**:
- Better BSD command detection
- Homebrew-aware suggestions
- Native notifications

#### 2. Accuracy & Intelligence
**Goal**: 90%+ pass rate through continuous improvement

**Agent Loop Enhancements**:
- Multi-turn refinement (up to 3 iterations)
- Context-aware command history
- Learn from user corrections
- Improved intent classification

**Static Matcher Expansion**:
- 150+ patterns (from 75)
- Platform-specific pattern libraries
- User-customizable patterns

**Prompt Engineering**:
- Specialized prompts per command category
- Dynamic few-shot example selection
- Negative example integration

#### 3. User Experience
**Goal**: Delightful, intuitive, and productive

**Command History**:
```bash
caro history              # List recent commands
caro history search git   # Search history
caro replay 5             # Re-run command #5
```

**Shell Integration**:
```bash
# Auto-completion
caro [TAB]                # Completes to recent patterns

# Aliases
alias c='caro'
c "show disk usage"       # Quick invocation
```

**Better Output Formatting**:
- Syntax highlighting for generated commands
- Explanation of what command does
- Safety warnings inline
- Copy-to-clipboard support

---

## Feature Breakdown

### Tier 1: Must-Have Features

#### F1: MLX Backend for Apple Silicon

**Value**: 10-50x faster inference on M1/M2/M3 Macs

**Technical Approach**:
- Use `mlx-rs` or FFI bindings to Apple's MLX framework
- Load Qwen 1.5B or SmolLM models in MLX format
- Implement backend trait with Metal acceleration
- Fallback to embedded backend on older Macs

**Success Criteria**:
- âœ… Loads models in <500ms (first run)
- âœ… Generates commands in <200ms (p50)
- âœ… Automatic fallback works seamlessly
- âœ… Memory usage <200MB

**Implementation Plan**:
```
Week 1-2: Research and prototype
  - Evaluate mlx-rs vs FFI
  - Test model loading and inference
  - Benchmark against embedded backend

Week 3-4: Integration
  - Implement MLXBackend trait
  - Add platform detection
  - Implement fallback logic

Week 5: Testing & Optimization
  - Beta testing on M1/M2/M3 devices
  - Performance profiling
  - Memory optimization

Week 6: Documentation & Polish
  - User documentation
  - Installation guide updates
  - Troubleshooting guide
```

**Risks**:
- MLX API stability (mitigation: pin to stable version)
- Model compatibility (mitigation: test multiple models)
- Installation complexity (mitigation: clear docs, binary distribution)

**Test Strategy**:
- Unit tests for MLXBackend trait implementation
- Integration tests for fallback behavior
- Performance benchmarks vs embedded backend
- Manual testing on M1/M2/M3 hardware

---

#### F2: 90%+ Pass Rate

**Value**: Industry-leading command accuracy

**Technical Approach**:
- Continue beta test cycles (Cycles 13-20)
- Implement targeted improvements per category
- Expand static matcher to 150+ patterns
- Refine prompts based on failure analysis

**Success Criteria**:
- âœ… Overall: 90%+ (from 86.2%)
- âœ… File management: 95%+ (from ~80%)
- âœ… System monitoring: 85%+ (from ~70%)
- âœ… DevOps: 75%+ (from ~60%)

**Implementation Plan**:
```
Cycle 13-15: Static Matcher Expansion
  - Add 75 new patterns (to reach 150 total)
  - Focus on file management and text processing
  - Platform-specific pattern variants

Cycle 16-17: Prompt Refinement
  - Category-specific prompts
  - Better few-shot examples
  - Improved chain-of-thought templates

Cycle 18-20: Agent Loop Tuning
  - Multi-turn refinement (up to 3 iterations)
  - Better confidence scoring
  - Context-aware retry logic
```

**Testing Strategy**:
- Run full test suite (75 cases) after each cycle
- Track pass rate by category
- Manual review of edge cases
- Beta tester validation

---

#### F3: Website Launch (caro-cli.dev)

**Value**: Professional presence, better documentation, SEO

**Technical Approach**:
- Static site (Docusaurus or Hugo)
- Hosted on Vercel/Netlify (free tier)
- Automatic deployment from main branch

**Success Criteria**:
- âœ… Live website at caro-cli.dev
- âœ… Documentation fully migrated
- âœ… Search functionality working
- âœ… Mobile-responsive design
- âœ… <2s page load time

**Content Structure**:
```
/                           # Homepage with hero and quick start
/docs/                      # Documentation hub
  /docs/getting-started     # Installation and first steps
  /docs/user-guide          # Complete user guide
  /docs/backends            # Backend configuration
  /docs/safety              # Safety validation
  /docs/troubleshooting     # Common issues
/blog/                      # Release notes and articles
/community/                 # Discord, GitHub, contributing
/about/                     # Mission, team, roadmap
```

**Implementation Plan**:
```
Week 1: Setup
  - Choose framework (Docusaurus recommended)
  - Domain registration (caro-cli.dev)
  - CI/CD pipeline setup

Week 2-3: Content Migration
  - Convert existing docs to website format
  - Add search functionality
  - Create homepage and navigation

Week 4: Polish & Launch
  - Design refinement
  - Mobile optimization
  - SEO optimization
  - Launch announcement
```

---

#### F4: Command History

**Value**: Learn from past usage, replay commands easily

**Technical Approach**:
- Store command history in `~/.caro/history.db` (SQLite)
- Privacy-first: Opt-in, local only
- Search and replay functionality

**Success Criteria**:
- âœ… Commands stored with metadata (timestamp, query, result)
- âœ… Search works with fuzzy matching
- âœ… Replay executes previous command
- âœ… Privacy settings clear and honored

**Database Schema**:
```sql
CREATE TABLE history (
    id INTEGER PRIMARY KEY,
    timestamp TEXT NOT NULL,
    user_query TEXT NOT NULL,
    generated_command TEXT NOT NULL,
    backend TEXT NOT NULL,
    platform TEXT NOT NULL,
    executed BOOLEAN DEFAULT FALSE,
    success BOOLEAN DEFAULT NULL
);

CREATE INDEX idx_timestamp ON history(timestamp);
CREATE INDEX idx_user_query ON history(user_query);
```

**CLI Interface**:
```bash
# Enable history (opt-in)
caro config set history.enabled true

# View history
caro history                      # Last 20 commands
caro history --limit 50           # Last 50 commands
caro history --today              # Today's commands

# Search history
caro history search "git"         # Fuzzy search
caro history search --exact "git status"

# Replay
caro replay 5                     # Replay command #5
caro replay --last                # Replay last command

# Clear history
caro history clear                # Clear all
caro history clear --before "2026-01-01"  # Clear old
```

**Implementation Plan**:
```
Week 1: Database & Storage
  - SQLite integration
  - Schema implementation
  - Migration system

Week 2: Recording Logic
  - Capture commands in agent loop
  - Privacy checks
  - Configuration system

Week 3: Query Interface
  - History listing
  - Search implementation
  - Replay functionality

Week 4: Testing & Documentation
  - Unit tests for storage
  - Integration tests for workflows
  - User documentation
```

---

### Tier 2: Nice-to-Have Features

#### F5: Shell Integration

**Value**: Reduce typing, faster invocation

**Features**:
- Tab completion for `caro` command
- Shell aliases and shortcuts
- Inline suggestions (fish-style)

**Implementation**:
```bash
# Auto-generated completion scripts
caro completion bash > ~/.caro/completion.bash
caro completion zsh > ~/.caro/completion.zsh
caro completion fish > ~/.config/fish/completions/caro.fish

# Aliases in shell RC file
alias c='caro'
alias ch='caro history'
alias cr='caro replay'
```

**Scope**: If time permits in week 7-8

---

#### F6: i18n Foundation

**Value**: Prepare for international growth

**Languages**: Spanish, French (pilot)

**Approach**:
- Extract strings to resource files
- Use `fluent-rs` for localization
- Translate CLI output, not prompts (English prompts for models)

**Scope**: Foundation only, full translation in v1.3.0

---

#### F7: Plugin Architecture (Beta)

**Value**: Community extensibility

**Design**:
- WebAssembly-based plugins
- Sandboxed execution
- Custom backends, validators, post-processors

**Scope**: Architecture design and prototype, full implementation in v1.4.0

---

## Development Timeline

### 8-Week Release Cycle

**Week 0 (Jan 15-21)**: v1.1.0-beta Launch & Stabilization
- Focus: Monitor launch, fix critical bugs
- No new feature work

**Week 1 (Jan 22-28)**: Planning & Setup
- Finalize v1.2.0 scope
- Set up MLX development environment
- Design command history schema
- Start website framework

**Week 2-3 (Jan 29 - Feb 11)**: Core Development
- MLX backend implementation
- Command history storage
- Website content migration
- Beta test cycles 13-15

**Week 4-5 (Feb 12-25)**: Integration & Testing
- MLX backend testing on Apple Silicon
- Command history integration
- Website launch (Feb 15)
- Beta test cycles 16-17

**Week 6 (Feb 26 - Mar 4)**: Polish & Optimization
- Performance optimization
- Bug fixes from beta testing
- Documentation updates
- Beta test cycles 18-20

**Week 7 (Mar 5-11)**: Pre-Release
- Release candidate (v1.2.0-rc.1)
- Final testing on all platforms
- Release notes preparation
- Marketing content creation

**Week 8 (Mar 12-18)**: Launch Week
- v1.2.0 release (Mar 15)
- Marketing campaign
- Community engagement
- Post-launch monitoring

---

## Success Metrics

### Technical Metrics

| Metric | v1.1.0 Baseline | v1.2.0 Target |
|--------|-----------------|---------------|
| **Pass Rate** | 86.2% | 90%+ |
| **Static Matcher Latency (p50)** | <50ms | <30ms |
| **MLX Backend Latency (p50)** | N/A | <200ms |
| **Memory Usage** | <100MB | <150MB (with MLX) |
| **Binary Size** | ~15MB | <25MB |

### Business Metrics

| Metric | v1.1.0 Target | v1.2.0 Target |
|--------|---------------|---------------|
| **GitHub Stars** | 5,000 | 10,000 |
| **Active Users** | 2,000 | 5,000 |
| **Discord Members** | 500 | 1,000 |
| **Contributors** | 50 | 100 |

### Quality Metrics

| Metric | Target |
|--------|--------|
| **Test Coverage** | 80%+ |
| **Documentation Coverage** | 100% (all public APIs) |
| **S1 Bugs (Week 1)** | <3 |
| **User Satisfaction** | >4.2/5.0 |

---

## Resource Requirements

### Team

**Core Team** (same as v1.1.0):
- Engineering Lead: Architecture, code reviews
- Senior Engineers (2): Feature implementation
- QA Lead: Testing and validation
- Product Lead: Roadmap and prioritization
- Community Manager: Support and engagement

**Additional Needs**:
- **macOS/iOS Developer** (contract, 2 weeks): MLX backend expertise
- **Web Developer** (contract, 2 weeks): Website design and implementation
- **Technical Writer** (contract, 1 week): Website content polish

### Budget

**Infrastructure**:
- Domain (caro-cli.dev): $15/year
- Website hosting (Vercel): $0 (free tier sufficient)
- CI/CD: $0 (GitHub Actions free tier)
- **Total**: ~$15 one-time

**Contract Work** (Optional):
- MLX expertise: $5,000 (2 weeks @ $50/hour)
- Web design: $3,000 (2 weeks @ $30/hour)
- Technical writing: $1,000 (1 week @ $25/hour)
- **Total**: $9,000 (optional, can do in-house)

**Marketing** (Optional):
- Sponsored posts: $500
- Influencer outreach: $500
- Event sponsorships: $1,000
- **Total**: $2,000 (optional)

---

## Risk Assessment

### High-Impact Risks

| Risk | Likelihood | Impact | Mitigation |
|------|-----------|--------|------------|
| **MLX API instability** | Medium | High | Pin to stable version, extensive testing |
| **Apple Silicon availability for testing** | Low | High | Recruit M1/M2/M3 beta testers early |
| **Pass rate plateau** | Medium | Medium | Expand test suite, improve categorization |
| **Website launch delays** | Low | Medium | Start early, use proven framework |

### Medium-Impact Risks

| Risk | Likelihood | Impact | Mitigation |
|------|-----------|--------|------------|
| **Feature creep** | Medium | Medium | Strict tier 1 vs tier 2 discipline |
| **Community burnout** | Low | Medium | Celebrate contributions, share load |
| **Competition releases similar features** | Medium | Low | Focus on unique differentiators (privacy, safety) |

---

## Competitive Analysis

### Expected Competitive Landscape (Q1 2026)

**GitHub Copilot CLI**:
- Likely improvements to command accuracy
- Still cloud-dependent (privacy concerns remain)
- Paid subscription required

**AI Shell / Warp AI**:
- May add safety features
- Still cloud-based
- Growing user base

**Caro's Advantage**:
- âœ… Privacy-first (100% local)
- âœ… Platform-optimized (MLX for Apple Silicon)
- âœ… Open source and free
- âœ… Built-in safety validation
- âœ… Community-driven

---

## Community Engagement Plan

### Pre-Launch (Weeks 1-6)

**Transparency**:
- Weekly progress updates in Discord
- GitHub Discussions for feature proposals
- Public roadmap tracking

**Beta Testing**:
- MLX backend beta (Apple Silicon users)
- Website beta (documentation feedback)
- Feature previews in Discord

### Launch (Week 8)

**Marketing Campaign**:
- Blog post: "Caro v1.2.0: Apple Silicon Native Performance"
- Show HN post highlighting MLX backend
- Twitter/X launch thread
- YouTube video demonstrating 10x speedup

**Community Celebration**:
- Contributor spotlight series
- Thank-you to beta testers
- v1.1 â†’ v1.2 migration guide

### Post-Launch (Week 9+)

**Ongoing Engagement**:
- Monthly community calls
- Contributor of the month recognition
- User success story features

---

## Migration from v1.1.0

### Breaking Changes

**None planned.** v1.2.0 is fully backward compatible.

### Configuration Changes

**New Settings**:
```toml
# ~/.config/caro/config.toml

# Command history (opt-in)
[history]
enabled = true
max_entries = 1000

# MLX backend (auto-detected)
[backends.mlx]
enabled = true
model = "qwen1.5b"  # or "smollm-135m"

# Website documentation
[docs]
base_url = "https://caro-cli.dev"
```

### Migration Guide

**For Users**:
1. Update to v1.2.0: `brew upgrade caro` or `cargo install --force caro`
2. Opt-in to history: `caro config set history.enabled true`
3. MLX backend auto-enabled on Apple Silicon (no action needed)
4. Visit new website: https://caro-cli.dev

**For Contributors**:
1. Pull latest main branch
2. Update dependencies: `cargo update`
3. Run tests: `cargo test`
4. Review new architecture docs (website)

---

## Post-v1.2.0 Vision

### v1.3.0 (June 2026)

**Focus**: Internationalization & Advanced Features

**Features**:
- Spanish and French translations (full)
- Advanced shell integration (custom aliases)
- Plugin system (production-ready)
- Command explanation mode

### v1.4.0 (September 2026)

**Focus**: Collaboration & Ecosystem

**Features**:
- Team workspaces (shared command libraries)
- Custom backend plugins
- Integration with popular dev tools (kubectl, docker, git)
- AI-powered error explanation

### v2.0.0 (December 2026)

**Focus**: Next-Generation CLI Experience

**Features**:
- Cloud sync (optional, privacy-first)
- Mobile companion app
- Voice command support
- Advanced context awareness (git repo, docker containers)

---

## Go/No-Go Decision Criteria

### Go Criteria (Launch v1.2.0)

Must meet ALL of these:

- âœ… MLX backend working on M1/M2/M3 with <500ms latency
- âœ… 90%+ pass rate achieved on test suite
- âœ… Website live and functional at caro-cli.dev
- âœ… Command history working and privacy-compliant
- âœ… Zero S1 bugs in release candidate
- âœ… All platforms building successfully (macOS, Linux)
- âœ… Documentation complete and reviewed
- âœ… Release notes finalized

### No-Go Criteria (Delay Release)

If ANY of these occur:

- âŒ Critical security vulnerability discovered
- âŒ MLX backend has showstopper bugs on Apple Silicon
- âŒ Pass rate regression below 85%
- âŒ Website security issues
- âŒ Legal/licensing problems

**Contingency**: Delay by 1-2 weeks, address blockers, reassess

---

## Retrospective Planning

### Day 8 Post-Launch (Mar 23, 2026)

**Retrospective Meeting**:
- What went well in development process?
- What could be improved for v1.3.0?
- How was team collaboration?
- Did we hit our metrics?

**Documentation**:
- Create v1.2.0 retrospective document
- Archive lessons learned
- Update development playbook

---

## Appendix A: MLX Backend Technical Spec

### Architecture

```rust
// src/backends/mlx/mod.rs

pub struct MLXBackend {
    model: MLXModel,
    config: MLXConfig,
}

impl Backend for MLXBackend {
    async fn generate(&self, prompt: &str) -> Result<CommandResponse> {
        // 1. Tokenize input
        let tokens = self.tokenize(prompt)?;

        // 2. Run inference on Metal GPU
        let output = self.model.generate(tokens, &self.config).await?;

        // 3. Decode and parse
        let command = self.parse_output(&output)?;

        Ok(CommandResponse {
            command,
            confidence: output.confidence,
            backend: "mlx".to_string(),
        })
    }
}
```

### Model Loading

```rust
// Load model files
let model_path = config_dir().join("models/qwen1.5b-mlx");

// Initialize MLX
let model = MLXModel::load(&model_path)?;

// Warm up (first inference is slow)
model.warm_up().await?;
```

### Performance Expectations

| Operation | Target |
|-----------|--------|
| First load | <500ms |
| Subsequent loads (cached) | <50ms |
| Inference (p50) | <200ms |
| Inference (p95) | <500ms |
| Memory usage | <200MB |

---

## Appendix B: Website Sitemap

```
caro-cli.dev/
â”œâ”€â”€ index.html                  # Homepage
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ index.html              # Docs hub
â”‚   â”œâ”€â”€ getting-started.html
â”‚   â”œâ”€â”€ installation.html
â”‚   â”œâ”€â”€ user-guide/
â”‚   â”‚   â”œâ”€â”€ basic-usage.html
â”‚   â”‚   â”œâ”€â”€ backends.html
â”‚   â”‚   â”œâ”€â”€ configuration.html
â”‚   â”‚   â””â”€â”€ safety.html
â”‚   â”œâ”€â”€ advanced/
â”‚   â”‚   â”œâ”€â”€ mlx-backend.html
â”‚   â”‚   â”œâ”€â”€ command-history.html
â”‚   â”‚   â””â”€â”€ shell-integration.html
â”‚   â”œâ”€â”€ development/
â”‚   â”‚   â”œâ”€â”€ contributing.html
â”‚   â”‚   â”œâ”€â”€ architecture.html
â”‚   â”‚   â””â”€â”€ testing.html
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ backend-trait.html
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ v1.1.0-launch.html
â”‚   â””â”€â”€ v1.2.0-mlx-backend.html
â”œâ”€â”€ community/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ discord.html
â”‚   â”œâ”€â”€ github.html
â”‚   â””â”€â”€ contributing.html
â””â”€â”€ about/
    â”œâ”€â”€ mission.html
    â”œâ”€â”€ team.html
    â””â”€â”€ roadmap.html
```

---

## Appendix C: Command History Privacy Policy

### Data Collection

**What We Store** (locally only):
- Timestamp of command generation
- User's natural language query
- Generated shell command
- Backend used (static, embedded, mlx)
- Platform (macOS, Linux)
- Whether command was executed
- Whether execution succeeded (if executed)

**What We DON'T Store**:
- Command output
- File contents
- Environment variables
- API keys or secrets
- Personal data

### Data Retention

- Default: 1,000 most recent commands
- Configurable: 100 to 10,000 commands
- Auto-cleanup of old entries

### Privacy Controls

```bash
# Disable history
caro config set history.enabled false

# Clear all history
caro history clear --all

# View what's stored
caro history export history.json  # Review locally
```

### Opt-In Philosophy

History is **disabled by default**. Users must explicitly enable:
```bash
caro config set history.enabled true
```

---

## Document Control

**Version**: 1.0
**Created**: 2026-01-08
**Owner**: Product Lead
**Next Review**: 2026-02-01
**Distribution**: Engineering team, stakeholders

**Related Documents**:
- v1.1.0 Executive Summary
- v1.1.0 Release Master Index
- v1.1.0 Technical Architecture
- v1.1.0 Week 1 Completion Summary

---

**Status**: âœ… Ready for Team Review

**Let's build v1.2.0! ðŸš€**
