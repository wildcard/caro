---
// Blog component displaying recent articles with different variations
import ClassicCard from './blog-variations/ClassicCard.astro';
import MagazineStyle from './blog-variations/MagazineStyle.astro';
import MinimalistList from './blog-variations/MinimalistList.astro';
import Timeline from './blog-variations/Timeline.astro';
import GridMasonry from './blog-variations/GridMasonry.astro';

const blogPosts = [
  {
    title: "Announcing Caro: Your Terminal's AI Companion",
    slug: "announcing-caro",
    date: "2025-12-20",
    excerpt: "We're excited to announce that cmdai has been renamed to caro! Thanks to @aeplay for graciously transferring the crate name. Learn about the rename, new features, and how to get started.",
    readTime: "5 min read",
    badge: "NEW"
  },
  {
    title: "Introducing the Caro Claude Skill: Safe Shell Commands in Your AI Workflow",
    slug: "claude-skill-launch",
    date: "2025-12-19",
    excerpt: "Caro comes to Claude Code! Generate safe, POSIX-compliant shell commands directly in your Claude sessions with comprehensive safety validation and educational guidance.",
    readTime: "6 min read"
  },
  {
    title: "Why Caro? The Story Behind Your Terminal Companion",
    slug: "why-caro",
    date: "2025-12-17",
    excerpt: "Discover the heartwarming story of how Kyaro, an office-loving Shiba Inu who grew up among developers and system administrators, became Caro—your eternal companion in the terminal.",
    readTime: "8 min read"
  }
];

// Determine which variation to use (can be passed as a prop or use default)
const variation = blogPosts[0]?.variation || "classic";

// Map variation names to components
const variationComponents = {
  classic: ClassicCard,
  magazine: MagazineStyle,
  minimalist: MinimalistList,
  timeline: Timeline,
  masonry: GridMasonry
};

const VariationComponent = variationComponents[variation] || ClassicCard;
---

<section id="blog" class="blog-section">
  <div class="container">
    <h2>From the Pack</h2>
    <p class="section-subtitle">Stories, updates, and insights about Caro</p>

    <VariationComponent posts={blogPosts} />

    <div style="text-align: center; margin-top: 40px;">
      <a href="/blog" class="view-all-link">
        View all blog posts →
      </a>
    </div>
  </div>
</section>

<style>
  .blog-section {
    padding: 80px 20px;
    background: linear-gradient(135deg, var(--color-bg) 0%, var(--color-bg-tertiary) 100%);
    transition: background 0.3s ease;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .blog-section h2 {
    font-size: 36px;
    text-align: center;
    margin-bottom: 20px;
    color: var(--color-text);
  }

  .section-subtitle {
    text-align: center;
    color: var(--color-text-secondary);
    font-size: 18px;
    margin-bottom: 50px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }

  .view-all-link {
    color: #ff8c42;
    text-decoration: none;
    font-weight: 600;
    font-size: 18px;
    transition: color 0.2s;
  }

  .view-all-link:hover {
    color: #ff6b35;
  }

  @media (max-width: 768px) {
    .blog-section h2 {
      font-size: 28px;
    }
  }
</style>
