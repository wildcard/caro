---
const useCases = [
  {
    category: "File Management",
    icon: "üìÅ",
    examples: [
      {
        prompt: "Find all files larger than 1GB",
        command: "find . -type f -size +1G -exec ls -lh {} \\;",
        safety: "safe"
      },
      {
        prompt: "List all PNG images modified in the last 7 days",
        command: "find . -name '*.png' -type f -mtime -7",
        safety: "safe"
      },
      {
        prompt: "Show disk usage of each directory sorted by size",
        command: "du -h --max-depth=1 | sort -hr",
        safety: "safe"
      }
    ]
  },
  {
    category: "System Monitoring",
    icon: "üìä",
    examples: [
      {
        prompt: "Show top 10 memory-consuming processes",
        command: "ps aux --sort=-%mem | head -n 11",
        safety: "safe"
      },
      {
        prompt: "Monitor CPU usage in real-time",
        command: "top -b -n 1 | head -n 20",
        safety: "safe"
      },
      {
        prompt: "Check which process is using port 8080",
        command: "lsof -i :8080",
        safety: "safe"
      }
    ]
  },
  {
    category: "Git & Version Control",
    icon: "üîÄ",
    examples: [
      {
        prompt: "Show commits from the last week",
        command: "git log --since='1 week ago' --oneline",
        safety: "safe"
      },
      {
        prompt: "List all branches sorted by last commit date",
        command: "git for-each-ref --sort=-committerdate refs/heads/ --format='%(committerdate:short) %(refname:short)'",
        safety: "safe"
      },
      {
        prompt: "Find who changed a specific file",
        command: "git log --follow -p -- <filename>",
        safety: "safe"
      }
    ]
  },
  {
    category: "Log Analysis",
    icon: "üìù",
    examples: [
      {
        prompt: "Find all ERROR entries in application logs",
        command: "grep -i 'error' /var/log/app.log | tail -n 50",
        safety: "safe"
      },
      {
        prompt: "Count HTTP status codes in access log",
        command: "awk '{print $9}' /var/log/nginx/access.log | sort | uniq -c | sort -rn",
        safety: "safe"
      },
      {
        prompt: "Show last 100 system errors",
        command: "journalctl -p err -n 100",
        safety: "safe"
      }
    ]
  },
  {
    category: "Network Operations",
    icon: "üåê",
    examples: [
      {
        prompt: "Test connection to a remote server",
        command: "ping -c 4 example.com",
        safety: "safe"
      },
      {
        prompt: "Show all listening TCP ports",
        command: "ss -tlnp",
        safety: "safe"
      },
      {
        prompt: "Download a file with resume support",
        command: "wget -c https://example.com/file.tar.gz",
        safety: "safe"
      }
    ]
  },
  {
    category: "Text Processing",
    icon: "‚úÇÔ∏è",
    examples: [
      {
        prompt: "Extract unique email addresses from a file",
        command: "grep -Eo '\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}\\b' file.txt | sort -u",
        safety: "safe"
      },
      {
        prompt: "Count lines, words, and characters in all .txt files",
        command: "wc $(find . -name '*.txt')",
        safety: "safe"
      },
      {
        prompt: "Replace all occurrences in multiple files",
        command: "sed -i 's/old_text/new_text/g' *.txt",
        safety: "moderate"
      }
    ]
  }
];
---

<section id="use-cases">
  <div class="container">
    <h2>Use Cases</h2>
    <p class="section-subtitle">Real-world examples of safe, POSIX-compliant commands generated by Caro</p>
    <div class="use-cases">
      {useCases.map((useCase) => (
        <div class="use-case-card">
          <div class="use-case-header">
            <span class="use-case-icon">{useCase.icon}</span>
            <h3>{useCase.category}</h3>
          </div>
          <div class="examples">
            {useCase.examples.map((example) => (
              <div class="example">
                <div class="example-prompt">
                  <span class="prompt-label">You:</span>
                  <span class="prompt-text">{example.prompt}</span>
                </div>
                <div class="example-command">
                  <code>{example.command}</code>
                  <span class={`safety-badge safety-${example.safety}`}>
                    {example.safety === 'safe' ? '‚úì Safe' : '‚ö† Moderate'}
                  </span>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .use-cases {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 30px;
    margin-top: 50px;
  }

  .use-case-card {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 12px;
    padding: 25px;
    transition: transform 0.3s, box-shadow 0.3s, background 0.3s ease, border-color 0.3s ease;
  }

  .use-case-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(255, 140, 66, 0.1);
  }

  :global(.dark) .use-case-card:hover {
    box-shadow: 0 8px 24px rgba(255, 140, 66, 0.2);
  }

  .use-case-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--color-border);
  }

  .use-case-icon {
    font-size: 32px;
  }

  .use-case-card h3 {
    font-size: 20px;
    color: var(--color-text);
    margin: 0;
    transition: color 0.3s ease;
  }

  .examples {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .example {
    background: var(--color-bg);
    border-radius: 8px;
    padding: 15px;
    transition: background 0.3s ease;
  }

  .example-prompt {
    display: flex;
    gap: 8px;
    margin-bottom: 10px;
    align-items: flex-start;
  }

  .prompt-label {
    font-weight: 600;
    color: #ff8c42;
    font-size: 13px;
    flex-shrink: 0;
  }

  .prompt-text {
    color: var(--color-text-tertiary);
    font-size: 14px;
    line-height: 1.5;
    transition: color 0.3s ease;
  }

  .example-command {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-border);
    border-radius: 6px;
    padding: 10px 12px;
    transition: background 0.3s ease, border-color 0.3s ease;
  }

  .example-command code {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 13px;
    color: var(--color-text);
    flex-grow: 1;
    overflow-x: auto;
    transition: color 0.3s ease;
  }

  .safety-badge {
    font-size: 11px;
    font-weight: 600;
    padding: 4px 8px;
    border-radius: 4px;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .safety-safe {
    background: rgba(76, 175, 80, 0.1);
    color: #4caf50;
  }

  .safety-moderate {
    background: rgba(255, 152, 0, 0.1);
    color: #ff9800;
  }

  @media (max-width: 900px) {
    .use-cases {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 500px) {
    .example-command {
      flex-direction: column;
      align-items: flex-start;
    }

    .example-command code {
      word-break: break-all;
    }
  }
</style>
