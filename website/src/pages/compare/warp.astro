---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';

const comparison = {
  competitor: {
    name: 'Warp',
    icon: 'üöÄ',
    tagline: 'AI-native terminal emulator',
  },
  tldr: {
    title: 'TL;DR',
    points: [
      'Warp is a completely new terminal app; Caro works in YOUR existing terminal',
      'Warp requires cloud for AI features; Caro runs 100% offline with local models',
      'Warp collects telemetry by default; Caro has zero data collection',
      'Both have AI command assistance, but Caro adds rule-based safety validation',
      'Warp has rich UI features; Caro is CLI-focused and lightweight'
    ]
  },
  headToHead: [
    { feature: 'Works in existing terminal', caro: true, competitor: false, winner: 'caro' },
    { feature: 'Works 100% offline', caro: true, competitor: false, winner: 'caro' },
    { feature: 'Zero telemetry', caro: true, competitor: false, winner: 'caro' },
    { feature: 'Rule-based safety checks', caro: true, competitor: false, winner: 'caro' },
    { feature: 'Cross-platform', caro: true, competitor: 'partial', winner: 'caro' },
    { feature: 'Modern UI/UX', caro: false, competitor: true, winner: 'competitor' },
    { feature: 'Blocks editing in outputs', caro: false, competitor: true, winner: 'competitor' },
    { feature: 'Team collaboration', caro: false, competitor: true, winner: 'competitor' },
  ],
  sections: [
    {
      title: 'Terminal Philosophy',
      icon: 'üñ•Ô∏è',
      content: `
        <p><strong>Warp</strong> is a completely new terminal emulator built from scratch with AI capabilities baked in. It requires you to switch from your current terminal (iTerm2, Terminal.app, Alacritty, etc.) to Warp.</p>
        <p><strong>Caro</strong> is a companion agent that works with your existing terminal. No app switching, no new UI to learn, no config migration. Just shell command assistance that integrates into your current workflow.</p>
      `
    },
    {
      title: 'Privacy & Connectivity',
      icon: 'üîí',
      content: `
        <p><strong>Warp</strong> requires cloud connectivity for its AI features. Your prompts are sent to Warp's servers for processing. Warp also collects telemetry data by default (though it can be disabled).</p>
        <p><strong>Caro</strong> runs entirely locally. AI inference happens on your machine with local models. No internet required, no data collected, no telemetry sent anywhere. Perfect for air-gapped environments or privacy-conscious users.</p>
      `
    },
    {
      title: 'Features vs Focus',
      icon: '‚öñÔ∏è',
      content: `
        <p><strong>Warp</strong> offers a rich feature set: modern text editing in terminal, command blocks, notebook-style outputs, team workflows, and more. It's a full terminal replacement with many capabilities.</p>
        <p><strong>Caro</strong> intentionally does one thing well: help you remember shell commands safely. It's lightweight, focused, and doesn't try to reinvent the terminal. If you love your current terminal, Caro enhances it without replacing it.</p>
      `
    },
    {
      title: 'Safety Approach',
      icon: 'üõ°Ô∏è',
      content: `
        <p><strong>Warp</strong> relies on AI to generate commands without systematic safety validation. Dangerous commands can still be suggested if the model doesn't catch them.</p>
        <p><strong>Caro</strong> validates every command against 52+ safety patterns before presenting it. Commands like <code>rm -rf /</code>, fork bombs, and system-breaking operations are blocked regardless of what the model suggests.</p>
      `
    },
  ],
  verdict: {
    chooseCaro: [
      'You love your current terminal and don\'t want to switch',
      'You need offline functionality (flights, VPNs, air-gapped)',
      'You require zero telemetry and complete privacy',
      'You want rule-based safety guarantees',
      'You prefer lightweight, focused tools',
    ],
    chooseCompetitor: [
      'You want a modern, redesigned terminal experience',
      'Team collaboration features are important to you',
      'You like notebook-style command outputs',
      'You\'re okay with cloud-dependent AI features',
    ]
  }
};

function renderValue(value: boolean | string) {
  if (value === true) return { icon: '‚úì', class: 'yes' };
  if (value === false) return { icon: '‚úó', class: 'no' };
  return { icon: '‚óê', class: 'partial' };
}
---

<Layout
  title="Caro vs Warp - Feature Comparison | Terminal AI Tools"
  description="Compare Caro and Warp. Work in your existing terminal vs switching to a new AI-native terminal emulator."
>
  <Navigation />

  <main class="vs-page">
    <section class="hero">
      <div class="container">
        <div class="vs-header">
          <div class="product product-caro">
            <span class="product-icon">üêï</span>
            <span class="product-name">Caro</span>
          </div>
          <span class="vs-badge">VS</span>
          <div class="product product-competitor">
            <span class="product-icon">{comparison.competitor.icon}</span>
            <span class="product-name">{comparison.competitor.name}</span>
          </div>
        </div>
        <h1>Caro vs {comparison.competitor.name}</h1>
        <p class="hero-subtitle">Your existing terminal vs a new AI-native terminal</p>
      </div>
    </section>

    <section class="tldr">
      <div class="container">
        <h2>{comparison.tldr.title}</h2>
        <ul class="tldr-list">
          {comparison.tldr.points.map((point) => (
            <li>{point}</li>
          ))}
        </ul>
      </div>
    </section>

    <section class="head-to-head">
      <div class="container">
        <h2>Feature Comparison</h2>
        <div class="table-wrapper">
          <table class="comparison-table">
            <thead>
              <tr>
                <th class="feature-col">Feature</th>
                <th class="tool-col highlight">Caro</th>
                <th class="tool-col">{comparison.competitor.name}</th>
              </tr>
            </thead>
            <tbody>
              {comparison.headToHead.map((row) => (
                <tr>
                  <td class="feature-name">{row.feature}</td>
                  <td class={`value ${renderValue(row.caro).class} ${row.winner === 'caro' ? 'winner' : ''}`}>
                    <span class="value-icon">{renderValue(row.caro).icon}</span>
                  </td>
                  <td class={`value ${renderValue(row.competitor).class} ${row.winner === 'competitor' ? 'winner' : ''}`}>
                    <span class="value-icon">{renderValue(row.competitor).icon}</span>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section class="details">
      <div class="container">
        {comparison.sections.map((section) => (
          <div class="detail-section">
            <h3><span class="section-icon">{section.icon}</span> {section.title}</h3>
            <div class="section-content" set:html={section.content} />
          </div>
        ))}
      </div>
    </section>

    <section class="verdict">
      <div class="container">
        <h2>Which Should You Choose?</h2>
        <div class="verdict-grid">
          <div class="verdict-card caro">
            <h3>Choose Caro if...</h3>
            <ul>
              {comparison.verdict.chooseCaro.map((point) => (
                <li><span class="check">‚úì</span> {point}</li>
              ))}
            </ul>
            <a href="/#download" class="verdict-cta primary">Get Started with Caro</a>
          </div>
          <div class="verdict-card competitor">
            <h3>Choose {comparison.competitor.name} if...</h3>
            <ul>
              {comparison.verdict.chooseCompetitor.map((point) => (
                <li><span class="bullet">‚Ä¢</span> {point}</li>
              ))}
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section class="final-cta">
      <div class="container">
        <h2>Keep Your Terminal. Add AI Safely.</h2>
        <p>Caro works in your existing terminal. No switching required.</p>
        <div class="cta-buttons">
          <a href="/#download" class="cta-button primary">Download Caro</a>
          <a href="/compare" class="cta-button secondary">See All Comparisons</a>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<style>
  .vs-page { background: var(--color-bg); }
  .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }

  .hero { padding: 80px 20px 60px; text-align: center; background: linear-gradient(180deg, var(--color-bg-tertiary) 0%, var(--color-bg) 100%); }
  .vs-header { display: flex; align-items: center; justify-content: center; gap: 30px; margin-bottom: 30px; }
  .product { display: flex; flex-direction: column; align-items: center; gap: 8px; }
  .product-icon { font-size: 48px; }
  .product-name { font-size: 18px; font-weight: 600; color: var(--color-text); }
  .product-caro .product-name { color: #ff8c42; }
  .vs-badge { font-size: 24px; font-weight: 700; color: var(--color-text-secondary); background: var(--color-bg-secondary); padding: 12px 20px; border-radius: 12px; }
  .hero h1 { font-size: 36px; font-weight: 700; margin-bottom: 12px; color: var(--color-text); }
  .hero-subtitle { font-size: 18px; color: var(--color-text-secondary); }

  .tldr { padding: 50px 20px; background: var(--color-bg-secondary); }
  .tldr h2 { font-size: 24px; margin-bottom: 20px; color: var(--color-text); }
  .tldr-list { list-style: none; padding: 0; margin: 0; }
  .tldr-list li { padding: 12px 0; padding-left: 28px; position: relative; color: var(--color-text); border-bottom: 1px solid var(--color-border); }
  .tldr-list li:last-child { border-bottom: none; }
  .tldr-list li::before { content: '‚Üí'; position: absolute; left: 0; color: #ff8c42; font-weight: bold; }

  .head-to-head { padding: 60px 20px; }
  .head-to-head h2 { font-size: 28px; text-align: center; margin-bottom: 30px; color: var(--color-text); }
  .table-wrapper { overflow-x: auto; border-radius: 12px; border: 1px solid var(--color-border); background: var(--color-bg); }
  .comparison-table { width: 100%; border-collapse: collapse; }
  .comparison-table th, .comparison-table td { padding: 16px 20px; text-align: center; border-bottom: 1px solid var(--color-border); }
  .comparison-table th { background: var(--color-bg-tertiary); font-weight: 600; color: var(--color-text); }
  .comparison-table th.highlight { background: linear-gradient(135deg, rgba(255, 140, 66, 0.15) 0%, rgba(255, 140, 66, 0.05) 100%); color: #ff8c42; }
  .feature-col { text-align: left !important; min-width: 200px; }
  .tool-col { min-width: 140px; }
  .feature-name { text-align: left !important; color: var(--color-text); }
  .comparison-table tbody tr:last-child td { border-bottom: none; }
  .comparison-table tbody tr:hover { background: var(--color-bg-tertiary); }
  .value { font-size: 20px; }
  .value-icon { font-weight: 600; }
  .value.yes .value-icon { color: #22c55e; }
  .value.no .value-icon { color: #ef4444; }
  .value.partial .value-icon { color: #f59e0b; }
  .value.winner { background: rgba(34, 197, 94, 0.1); }

  .details { padding: 60px 20px; background: var(--color-bg-secondary); }
  .detail-section { margin-bottom: 40px; padding: 30px; background: var(--color-bg); border-radius: 12px; border: 1px solid var(--color-border); }
  .detail-section:last-child { margin-bottom: 0; }
  .detail-section h3 { font-size: 20px; margin-bottom: 16px; color: var(--color-text); display: flex; align-items: center; gap: 10px; }
  .section-icon { font-size: 24px; }
  .section-content { color: var(--color-text-secondary); line-height: 1.7; }
  .section-content :global(p) { margin-bottom: 16px; }
  .section-content :global(p:last-child) { margin-bottom: 0; }
  .section-content :global(strong) { color: var(--color-text); }
  .section-content :global(code) { background: var(--color-bg-secondary); padding: 2px 6px; border-radius: 4px; font-size: 14px; }

  .verdict { padding: 60px 20px; }
  .verdict h2 { font-size: 28px; text-align: center; margin-bottom: 40px; color: var(--color-text); }
  .verdict-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
  .verdict-card { padding: 30px; border-radius: 12px; border: 1px solid var(--color-border); }
  .verdict-card.caro { background: linear-gradient(135deg, rgba(255, 140, 66, 0.1) 0%, rgba(255, 140, 66, 0.02) 100%); border-color: rgba(255, 140, 66, 0.3); }
  .verdict-card.competitor { background: var(--color-bg-secondary); }
  .verdict-card h3 { font-size: 20px; margin-bottom: 20px; color: var(--color-text); }
  .verdict-card ul { list-style: none; padding: 0; margin: 0 0 24px 0; }
  .verdict-card li { padding: 10px 0; color: var(--color-text-secondary); display: flex; gap: 10px; }
  .check { color: #22c55e; font-weight: bold; }
  .bullet { color: var(--color-text-secondary); }
  .verdict-cta { display: inline-block; padding: 14px 28px; background: linear-gradient(135deg, #ff8c42 0%, #ff6b35 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.2s; }
  .verdict-cta:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(255, 140, 66, 0.3); }

  .final-cta { padding: 80px 20px; text-align: center; background: linear-gradient(135deg, #ff8c42 0%, #ff6b35 100%); color: white; }
  .final-cta h2 { font-size: 32px; margin-bottom: 12px; color: white; }
  .final-cta p { font-size: 18px; opacity: 0.9; margin-bottom: 30px; }
  .cta-buttons { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
  .cta-button { display: inline-block; padding: 16px 32px; border-radius: 8px; font-weight: 600; font-size: 16px; text-decoration: none; transition: all 0.2s; }
  .cta-button.primary { background: white; color: #ff6b35; }
  .cta-button.primary:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); }
  .cta-button.secondary { background: transparent; color: white; border: 2px solid white; }
  .cta-button.secondary:hover { background: rgba(255, 255, 255, 0.1); }

  @media (max-width: 768px) {
    .vs-header { flex-direction: column; gap: 20px; }
    .hero h1 { font-size: 28px; }
    .verdict-grid { grid-template-columns: 1fr; }
    .cta-buttons { flex-direction: column; align-items: center; }
    .cta-button { width: 100%; max-width: 280px; }
  }
</style>
