---
import Layout from '../layouts/Layout.astro';
import ClassicCard from '../components/blog-variations/ClassicCard.astro';
import MagazineStyle from '../components/blog-variations/MagazineStyle.astro';
import MinimalistList from '../components/blog-variations/MinimalistList.astro';
import Timeline from '../components/blog-variations/Timeline.astro';
import GridMasonry from '../components/blog-variations/GridMasonry.astro';

// Sample blog posts for demonstration
const samplePosts = [
  {
    title: "Why Caro? The Story Behind Your Terminal Companion",
    slug: "why-caro",
    date: "2025-12-17",
    excerpt: "Discover the heartwarming story of how Kyaro, an office-loving Shiba Inu who grew up among developers and system administrators, became Caro—your eternal companion in the terminal.",
    readTime: "8 min read"
  },
  {
    title: "Building a Rust CLI Tool with MLX Integration",
    slug: "rust-cli-mlx",
    date: "2025-12-10",
    excerpt: "Learn how we built Caro using Rust and integrated Apple's MLX framework for lightning-fast inference on Apple Silicon.",
    readTime: "12 min read"
  },
  {
    title: "Safety First: Command Validation in Terminal Tools",
    slug: "safety-validation",
    date: "2025-12-05",
    excerpt: "Exploring the safety mechanisms that protect users from dangerous commands while maintaining flexibility and power.",
    readTime: "6 min read"
  }
];

const variations = [
  { name: 'Classic Card', component: 'classic', description: 'Traditional card-based layout with hover effects' },
  { name: 'Magazine Style', component: 'magazine', description: 'Editorial layout with large featured images' },
  { name: 'Minimalist List', component: 'minimalist', description: 'Clean, text-focused minimal design' },
  { name: 'Timeline', component: 'timeline', description: 'Vertical timeline with date emphasis' },
  { name: 'Grid Masonry', component: 'masonry', description: 'Pinterest-style masonry layout' }
];
---

<Layout title="Blog Variations Storybook - Caro" description="Showcase of all blog component variations">
  <div class="storybook">
    <div class="storybook-header">
      <div class="container">
        <h1>Blog Component Variations</h1>
        <p class="subtitle">Explore different design approaches for blog listings</p>
        <a href="/" class="back-home">← Back to Home</a>
      </div>
    </div>

    <div class="storybook-content">
      {variations.map((variation, index) => (
        <section class="variation-section" id={variation.component}>
          <div class="container">
            <div class="variation-header">
              <div class="variation-number">{String(index + 1).padStart(2, '0')}</div>
              <div class="variation-info">
                <h2>{variation.name}</h2>
                <p class="variation-description">{variation.description}</p>
                <code class="variation-code">variation="{variation.component}"</code>
              </div>
            </div>

            <div class="variation-preview">
              {variation.component === 'classic' && <ClassicCard posts={samplePosts} />}
              {variation.component === 'magazine' && <MagazineStyle posts={samplePosts} />}
              {variation.component === 'minimalist' && <MinimalistList posts={samplePosts} />}
              {variation.component === 'timeline' && <Timeline posts={samplePosts} />}
              {variation.component === 'masonry' && <GridMasonry posts={samplePosts} />}
            </div>
          </div>
        </section>
      ))}
    </div>

    <div class="storybook-footer">
      <div class="container">
        <h2>Blog Post Page Variations</h2>
        <p>Individual blog posts can also use different layout variations:</p>

        <div class="page-variations-grid">
          <div class="page-variation-card">
            <h3>Default</h3>
            <p>Standard layout with gradient header</p>
            <code>variation="default"</code>
          </div>

          <div class="page-variation-card">
            <h3>Minimal</h3>
            <p>Simplified centered layout</p>
            <code>variation="minimal"</code>
          </div>

          <div class="page-variation-card">
            <h3>Feature</h3>
            <p>Bold design with full gradient header</p>
            <code>variation="feature"</code>
          </div>

          <div class="page-variation-card">
            <h3>Technical</h3>
            <p>Enhanced code styling</p>
            <code>variation="technical"</code>
          </div>

          <div class="page-variation-card">
            <h3>Story</h3>
            <p>Magazine-style with drop caps</p>
            <code>variation="story"</code>
          </div>
        </div>

        <div class="usage-example">
          <h3>Usage Example</h3>
          <pre><code>&lt;BlogPost
  title="Your Post Title"
  description="Post description"
  date="2025-12-17"
  readTime="8 min read"
  variation="story"
&gt;
  &lt;!-- Your content here --&gt;
&lt;/BlogPost&gt;</code></pre>
        </div>

        <a href="/" class="back-home-footer">← Back to Home</a>
      </div>
    </div>
  </div>
</Layout>

<style>
  .storybook {
    min-height: 100vh;
    background: var(--color-bg);
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .storybook-header {
    background: linear-gradient(135deg, #ff8c42 0%, #ff6b35 100%);
    padding: 80px 20px;
    text-align: center;
    color: white;
  }

  .storybook-header h1 {
    font-size: 48px;
    font-weight: 700;
    margin-bottom: 16px;
  }

  .subtitle {
    font-size: 20px;
    opacity: 0.95;
    margin-bottom: 30px;
  }

  .back-home {
    display: inline-block;
    color: white;
    text-decoration: none;
    font-weight: 600;
    padding: 12px 24px;
    border: 2px solid white;
    border-radius: 8px;
    transition: all 0.2s;
  }

  .back-home:hover {
    background: white;
    color: #ff8c42;
    transform: translateY(-2px);
  }

  .storybook-content {
    padding: 60px 0;
  }

  .variation-section {
    margin-bottom: 120px;
    scroll-margin-top: 80px;
  }

  .variation-header {
    display: flex;
    gap: 30px;
    align-items: flex-start;
    margin-bottom: 50px;
    padding: 30px;
    background: var(--color-bg-secondary);
    border-left: 4px solid #ff8c42;
    border-radius: 8px;
  }

  .variation-number {
    font-size: 48px;
    font-weight: 700;
    color: #ff8c42;
    line-height: 1;
    min-width: 80px;
  }

  .variation-info {
    flex: 1;
  }

  .variation-info h2 {
    font-size: 32px;
    color: var(--color-text);
    margin-bottom: 12px;
  }

  .variation-description {
    font-size: 18px;
    color: var(--color-text-secondary);
    margin-bottom: 16px;
  }

  .variation-code {
    display: inline-block;
    background: #1e1e1e;
    color: #ff8c42;
    padding: 8px 16px;
    border-radius: 6px;
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: 14px;
  }

  .variation-preview {
    background: var(--color-bg);
    padding: 40px;
    border-radius: 12px;
    border: 2px dashed var(--color-border);
    min-height: 400px;
  }

  .storybook-footer {
    background: var(--color-bg-tertiary);
    padding: 80px 20px;
    border-top: 1px solid var(--color-border);
  }

  .storybook-footer h2 {
    font-size: 36px;
    color: var(--color-text);
    margin-bottom: 20px;
    text-align: center;
  }

  .storybook-footer > .container > p {
    text-align: center;
    font-size: 18px;
    color: var(--color-text-secondary);
    margin-bottom: 50px;
  }

  .page-variations-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    margin-bottom: 60px;
  }

  .page-variation-card {
    background: var(--color-bg);
    padding: 30px;
    border-radius: 12px;
    border: 1px solid var(--color-border);
    transition: all 0.3s;
  }

  .page-variation-card:hover {
    border-color: #ff8c42;
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(255, 140, 66, 0.15);
  }

  .page-variation-card h3 {
    font-size: 24px;
    color: var(--color-text);
    margin-bottom: 12px;
  }

  .page-variation-card p {
    color: var(--color-text-secondary);
    font-size: 16px;
    margin-bottom: 16px;
  }

  .page-variation-card code {
    display: inline-block;
    background: #1e1e1e;
    color: #ff8c42;
    padding: 6px 12px;
    border-radius: 4px;
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: 13px;
  }

  .usage-example {
    background: var(--color-bg);
    padding: 30px;
    border-radius: 12px;
    border: 1px solid var(--color-border);
    margin-bottom: 40px;
  }

  .usage-example h3 {
    font-size: 22px;
    color: var(--color-text);
    margin-bottom: 20px;
  }

  .usage-example pre {
    background: #1e1e1e;
    padding: 24px;
    border-radius: 8px;
    overflow-x: auto;
  }

  .usage-example code {
    color: #d4d4d4;
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.6;
  }

  .back-home-footer {
    display: inline-block;
    color: #ff8c42;
    text-decoration: none;
    font-weight: 600;
    font-size: 18px;
    transition: transform 0.2s;
  }

  .back-home-footer:hover {
    transform: translateX(-4px);
  }

  @media (max-width: 768px) {
    .storybook-header h1 {
      font-size: 32px;
    }

    .subtitle {
      font-size: 16px;
    }

    .variation-header {
      flex-direction: column;
      gap: 20px;
    }

    .variation-number {
      font-size: 36px;
      min-width: auto;
    }

    .variation-info h2 {
      font-size: 24px;
    }

    .variation-preview {
      padding: 20px;
    }

    .page-variations-grid {
      grid-template-columns: 1fr;
    }

    .storybook-footer h2 {
      font-size: 28px;
    }
  }
</style>
