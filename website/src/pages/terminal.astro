---
/**
 * Terminal-Centric Landing Page (Buildkite-inspired)
 *
 * Design Philosophy:
 * - CLI-first interface with REAL command-based navigation
 * - Dark terminal aesthetic as default
 * - Trust and reliability focused messaging
 * - Interactive terminal where users can TYPE commands
 *
 * STYLE ISOLATION: All styles are scoped to .terminal-page
 */
import { SITE_CONFIG } from '../config/site';
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Caro - Safe shell commands you can trust. Convert natural language to validated POSIX commands with local AI inference." />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph -->
  <meta property="og:title" content="Caro | Safe Shell Commands You Can Trust" />
  <meta property="og:description" content="Convert natural language to validated POSIX shell commands. Safety-first design with 52+ dangerous pattern detection." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://caro.sh/terminal" />

  <link rel="icon" type="image/png" href="/caro-pixel.png" />
  <title>Caro | Your Tools Should Earn Your Trust</title>
</head>
<body>
  <div class="terminal-page" data-theme="dark">

    <!-- Header with logo and theme switcher -->
    <header class="tp-header">
      <div class="tp-header-content">
        <div class="tp-logo-section">
          <img src="/caro-pixel.png" alt="Caro" class="tp-logo-img" />
          <span class="tp-logo-text">caro</span>
          <span class="tp-version">v{SITE_CONFIG.version}</span>
        </div>

        <div class="tp-header-right">
          <nav class="tp-nav">
            <a href="/" class="tp-nav-link">Main Site</a>
            <a href="https://github.com/wildcard/caro" class="tp-nav-link" target="_blank">GitHub</a>
          </nav>
          <div class="tp-theme-switcher">
            <button class="tp-theme-btn tp-theme-dark active" data-theme="dark" title="Dark"></button>
            <button class="tp-theme-btn tp-theme-light" data-theme="light" title="Light"></button>
            <button class="tp-theme-btn tp-theme-amber" data-theme="amber" title="CRT Amber"></button>
            <button class="tp-theme-btn tp-theme-green" data-theme="green" title="CRT Green"></button>
          </div>
        </div>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="tp-hero">
      <div class="tp-container">
        <h1 class="tp-headline">
          Your tools should <strong>earn your trust</strong>,<br/>
          not ask for it.
        </h1>

        <!-- Interactive Terminal -->
        <div class="tp-terminal" id="terminal">
          <div class="tp-terminal-header">
            <div class="tp-dots">
              <span class="tp-dot tp-dot-red"></span>
              <span class="tp-dot tp-dot-yellow"></span>
              <span class="tp-dot tp-dot-green"></span>
            </div>
            <span class="tp-terminal-title">~/caro</span>
            <div class="tp-terminal-spacer"></div>
          </div>

          <div class="tp-terminal-body" id="terminal-body">
            <div id="terminal-output"></div>
            <div class="tp-input-line">
              <span class="tp-prompt">$</span>
              <input
                type="text"
                id="terminal-input"
                class="tp-input"
                autocomplete="off"
                autocapitalize="off"
                spellcheck="false"
                placeholder="Type 'help' for commands..."
              />
            </div>
          </div>
        </div>

        <p class="tp-hint">Click the terminal and start typing. Try <code>help</code> to see available commands.</p>
      </div>
    </section>

    <!-- Hidden sections shown via commands -->
    <section class="tp-section" id="section-capabilities" style="display: none;">
      <div class="tp-container">
        <h2 class="tp-section-title">Capabilities</h2>
        <div class="tp-grid">
          <div class="tp-card">
            <h3>üõ°Ô∏è Pattern-Based Safety</h3>
            <p>52+ pre-compiled dangerous command patterns. Blocks rm -rf /, fork bombs, disk wipers.</p>
          </div>
          <div class="tp-card">
            <h3>üîí 100% Local Inference</h3>
            <p>Your commands never leave your machine. Air-gapped environments supported.</p>
          </div>
          <div class="tp-card">
            <h3>üåç Platform Aware</h3>
            <p>Detects OS, shell type, and available commands. Generates platform-specific commands.</p>
          </div>
          <div class="tp-card">
            <h3>‚ö° Single Binary</h3>
            <p>No dependencies. No runtime. Install and run in seconds.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="tp-section" id="section-install" style="display: none;">
      <div class="tp-container">
        <h2 class="tp-section-title">Install Caro</h2>
        <div class="tp-install-box">
          <div class="tp-install-method">
            <h3>Quick Install</h3>
            <div class="tp-install-command">
              <code>curl -fsSL https://caro.sh/install | bash</code>
              <button class="tp-copy-btn" data-copy="curl -fsSL https://caro.sh/install | bash">Copy</button>
            </div>
          </div>
          <div class="tp-install-method">
            <h3>Via Cargo</h3>
            <div class="tp-install-command">
              <code>cargo install caro</code>
              <button class="tp-copy-btn" data-copy="cargo install caro">Copy</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="tp-section" id="section-stats" style="display: none;">
      <div class="tp-container">
        <h2 class="tp-section-title">By The Numbers</h2>
        <div class="tp-stats-grid">
          <div class="tp-stat">
            <div class="tp-stat-value">52+</div>
            <div class="tp-stat-label">Safety Patterns</div>
          </div>
          <div class="tp-stat">
            <div class="tp-stat-value">100%</div>
            <div class="tp-stat-label">Local</div>
          </div>
          <div class="tp-stat">
            <div class="tp-stat-value">0</div>
            <div class="tp-stat-label">Cloud Deps</div>
          </div>
          <div class="tp-stat">
            <div class="tp-stat-value">3</div>
            <div class="tp-stat-label">Platforms</div>
          </div>
        </div>
      </div>
    </section>

    <footer class="tp-footer">
      <span>caro v{SITE_CONFIG.version} ‚Ä¢ AGPL-3.0 ‚Ä¢ Built with Rust</span>
    </footer>
  </div>

  <style>
    /* ===========================================
       TERMINAL PAGE - FULLY SCOPED STYLES
       =========================================== */

    .terminal-page {
      --tp-bg: #0d1117;
      --tp-bg-secondary: #161b22;
      --tp-bg-tertiary: #21262d;
      --tp-text: #c9d1d9;
      --tp-text-muted: #8b949e;
      --tp-text-dim: #484f58;
      --tp-accent: #ff8c42;
      --tp-accent-hover: #ff6b35;
      --tp-success: #3fb950;
      --tp-error: #f85149;
      --tp-info: #58a6ff;
      --tp-border: #30363d;
      --tp-cursor: #ff8c42;
      --tp-font: 'SF Mono', 'Monaco', 'Menlo', 'Consolas', monospace;

      font-family: var(--tp-font);
      background: var(--tp-bg);
      color: var(--tp-text);
      line-height: 1.5;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
    }

    .terminal-page[data-theme="light"] {
      --tp-bg: #ffffff;
      --tp-bg-secondary: #f6f8fa;
      --tp-bg-tertiary: #eaeef2;
      --tp-text: #1f2328;
      --tp-text-muted: #656d76;
      --tp-text-dim: #8c959f;
      --tp-border: #d0d7de;
    }

    .terminal-page[data-theme="amber"] {
      --tp-bg: #0a0800;
      --tp-bg-secondary: #141000;
      --tp-bg-tertiary: #1e1800;
      --tp-text: #ffb000;
      --tp-text-muted: #cc8c00;
      --tp-text-dim: #806000;
      --tp-accent: #ffcc00;
      --tp-success: #44ff44;
      --tp-cursor: #ffb000;
      --tp-border: #3a2800;
    }

    .terminal-page[data-theme="green"] {
      --tp-bg: #001200;
      --tp-bg-secondary: #001a00;
      --tp-bg-tertiary: #002200;
      --tp-text: #00ff00;
      --tp-text-muted: #00cc00;
      --tp-text-dim: #008000;
      --tp-accent: #00ff88;
      --tp-success: #00ff00;
      --tp-cursor: #00ff00;
      --tp-border: #004400;
    }

    /* CRT Scanline effect */
    .terminal-page[data-theme="amber"]::after,
    .terminal-page[data-theme="green"]::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1) 0px,
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
      );
      z-index: 9999;
    }

    /* Header */
    .terminal-page .tp-header {
      padding: 12px 24px;
      border-bottom: 1px solid var(--tp-border);
      background: var(--tp-bg-secondary);
      flex-shrink: 0;
    }

    .terminal-page .tp-header-content {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .terminal-page .tp-logo-section {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .terminal-page .tp-logo-img {
      width: 28px;
      height: 28px;
      image-rendering: pixelated;
    }

    .terminal-page .tp-logo-text {
      font-size: 20px;
      font-weight: 700;
      color: var(--tp-accent);
    }

    .terminal-page .tp-version {
      font-size: 11px;
      color: var(--tp-text-dim);
      background: var(--tp-bg-tertiary);
      padding: 2px 6px;
      border-radius: 3px;
    }

    .terminal-page .tp-header-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .terminal-page .tp-nav {
      display: flex;
      gap: 16px;
    }

    .terminal-page .tp-nav-link {
      color: var(--tp-text-muted);
      text-decoration: none;
      font-size: 13px;
      transition: color 0.2s;
    }

    .terminal-page .tp-nav-link:hover {
      color: var(--tp-accent);
    }

    /* Theme Switcher - colored buttons */
    .terminal-page .tp-theme-switcher {
      display: flex;
      gap: 6px;
      padding: 4px;
      background: var(--tp-bg);
      border-radius: 6px;
      border: 1px solid var(--tp-border);
    }

    .terminal-page .tp-theme-btn {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      border: 2px solid transparent;
      cursor: pointer;
      transition: transform 0.15s, border-color 0.15s;
    }

    .terminal-page .tp-theme-btn:hover {
      transform: scale(1.15);
    }

    .terminal-page .tp-theme-btn.active {
      border-color: var(--tp-text);
    }

    .terminal-page .tp-theme-dark { background: #21262d; }
    .terminal-page .tp-theme-light { background: #f0f0f0; }
    .terminal-page .tp-theme-amber { background: linear-gradient(135deg, #ffb000, #ff8800); }
    .terminal-page .tp-theme-green { background: linear-gradient(135deg, #00ff00, #00aa00); }

    /* Hero */
    .terminal-page .tp-hero {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .terminal-page .tp-container {
      width: 100%;
      max-width: 750px;
    }

    .terminal-page .tp-headline {
      font-size: clamp(22px, 4vw, 36px);
      font-weight: 400;
      margin-bottom: 24px;
      color: var(--tp-text);
      line-height: 1.35;
      text-align: center;
    }

    .terminal-page .tp-headline strong {
      color: var(--tp-accent);
      font-weight: 600;
    }

    /* Terminal */
    .terminal-page .tp-terminal {
      background: var(--tp-bg-secondary);
      border: 1px solid var(--tp-border);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .terminal-page .tp-terminal-header {
      display: flex;
      align-items: center;
      padding: 10px 14px;
      background: var(--tp-bg-tertiary);
      border-bottom: 1px solid var(--tp-border);
    }

    .terminal-page .tp-dots {
      display: flex;
      gap: 6px;
    }

    .terminal-page .tp-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
    }

    .terminal-page .tp-dot-red { background: #ff5f56; }
    .terminal-page .tp-dot-yellow { background: #ffbd2e; }
    .terminal-page .tp-dot-green { background: #27c93f; }

    .terminal-page .tp-terminal-title {
      flex: 1;
      text-align: center;
      font-size: 12px;
      color: var(--tp-text-dim);
    }

    .terminal-page .tp-terminal-spacer {
      width: 52px;
    }

    .terminal-page .tp-terminal-body {
      padding: 16px;
      min-height: 220px;
      max-height: 320px;
      overflow-y: auto;
      text-align: left;
    }

    /* Terminal Output - LEFT ALIGNED */
    .terminal-page .tp-output-line {
      margin-bottom: 4px;
      white-space: pre-wrap;
      word-break: break-word;
      font-size: 13px;
      text-align: left;
    }

    .terminal-page .tp-output-line.tp-cmd {
      color: var(--tp-text-muted);
    }

    .terminal-page .tp-output-line.tp-cmd::before {
      content: '$ ';
      color: var(--tp-success);
    }

    .terminal-page .tp-output-line.tp-result {
      color: var(--tp-text);
      padding-left: 12px;
    }

    .terminal-page .tp-output-line.tp-error {
      color: var(--tp-error);
    }

    .terminal-page .tp-output-line.tp-accent {
      color: var(--tp-accent);
    }

    .terminal-page .tp-output-line.tp-info {
      color: var(--tp-info);
    }

    .terminal-page .tp-output-line.tp-dim {
      color: var(--tp-text-dim);
    }

    .terminal-page .tp-output-line.tp-success {
      color: var(--tp-success);
    }

    /* ASCII art container */
    .terminal-page .tp-ascii {
      font-size: 10px;
      line-height: 1.1;
      color: var(--tp-accent);
      margin-bottom: 8px;
    }

    /* Help box */
    .terminal-page .tp-help-box {
      border: 1px solid var(--tp-border);
      border-radius: 4px;
      padding: 12px;
      margin: 8px 0;
      background: var(--tp-bg);
      text-align: left;
    }

    .terminal-page .tp-help-title {
      color: var(--tp-accent);
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 13px;
    }

    .terminal-page .tp-help-item {
      display: flex;
      gap: 12px;
      margin-bottom: 4px;
      font-size: 12px;
    }

    .terminal-page .tp-help-cmd {
      color: var(--tp-info);
      min-width: 110px;
    }

    .terminal-page .tp-help-desc {
      color: var(--tp-text-muted);
    }

    /* Input line */
    .terminal-page .tp-input-line {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
    }

    .terminal-page .tp-prompt {
      color: var(--tp-success);
      font-weight: 500;
    }

    .terminal-page .tp-input {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--tp-text);
      font-family: var(--tp-font);
      font-size: 13px;
      outline: none;
      caret-color: var(--tp-cursor);
    }

    .terminal-page .tp-input::placeholder {
      color: var(--tp-text-dim);
    }

    .terminal-page .tp-hint {
      margin-top: 16px;
      font-size: 12px;
      color: var(--tp-text-dim);
      text-align: center;
    }

    .terminal-page .tp-hint code {
      color: var(--tp-info);
      background: var(--tp-bg-tertiary);
      padding: 1px 5px;
      border-radius: 3px;
    }

    /* Sections */
    .terminal-page .tp-section {
      padding: 40px 24px;
      border-top: 1px solid var(--tp-border);
    }

    .terminal-page .tp-section-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 20px;
      color: var(--tp-text);
    }

    .terminal-page .tp-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }

    .terminal-page .tp-card {
      background: var(--tp-bg-secondary);
      border: 1px solid var(--tp-border);
      border-radius: 6px;
      padding: 16px;
    }

    .terminal-page .tp-card h3 {
      font-size: 14px;
      margin-bottom: 6px;
      color: var(--tp-text);
    }

    .terminal-page .tp-card p {
      font-size: 12px;
      color: var(--tp-text-muted);
    }

    /* Install */
    .terminal-page .tp-install-box {
      max-width: 450px;
    }

    .terminal-page .tp-install-method {
      margin-bottom: 16px;
    }

    .terminal-page .tp-install-method h3 {
      font-size: 13px;
      color: var(--tp-text);
      margin-bottom: 8px;
    }

    .terminal-page .tp-install-command {
      display: flex;
      align-items: center;
      gap: 10px;
      background: var(--tp-bg-secondary);
      border: 1px solid var(--tp-border);
      padding: 10px 12px;
      border-radius: 4px;
    }

    .terminal-page .tp-install-command code {
      flex: 1;
      color: var(--tp-text);
      font-size: 12px;
    }

    .terminal-page .tp-copy-btn {
      background: var(--tp-accent);
      color: var(--tp-bg);
      border: none;
      padding: 4px 10px;
      border-radius: 3px;
      font-family: var(--tp-font);
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
    }

    .terminal-page .tp-copy-btn:hover {
      background: var(--tp-accent-hover);
    }

    /* Stats */
    .terminal-page .tp-stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
    }

    .terminal-page .tp-stat {
      text-align: center;
      padding: 16px;
      background: var(--tp-bg-secondary);
      border: 1px solid var(--tp-border);
      border-radius: 6px;
    }

    .terminal-page .tp-stat-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--tp-accent);
    }

    .terminal-page .tp-stat-label {
      font-size: 11px;
      color: var(--tp-text-muted);
      text-transform: uppercase;
    }

    /* Footer */
    .terminal-page .tp-footer {
      padding: 16px 24px;
      border-top: 1px solid var(--tp-border);
      text-align: center;
      font-size: 12px;
      color: var(--tp-text-dim);
      flex-shrink: 0;
    }

    /* Mobile */
    @media (max-width: 600px) {
      .terminal-page .tp-header-content {
        flex-direction: column;
        gap: 12px;
      }

      .terminal-page .tp-stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .terminal-page .tp-terminal-body {
        min-height: 180px;
      }
    }
  </style>

  <script define:vars={{ version: SITE_CONFIG.version }}>
    (function() {
      const page = document.querySelector('.terminal-page');
      const terminalBody = document.getElementById('terminal-body');
      const terminalOutput = document.getElementById('terminal-output');
      const terminalInput = document.getElementById('terminal-input');
      const themeBtns = document.querySelectorAll('.tp-theme-btn');

      let history = [];
      let historyIndex = -1;

      const commands = {
        help: showHelp,
        h: showHelp,
        capabilities: () => showSection('capabilities'),
        cap: () => showSection('capabilities'),
        install: () => showSection('install'),
        i: () => showSection('install'),
        stats: () => showSection('stats'),
        s: () => showSection('stats'),
        clear: clearTerminal,
        cls: clearTerminal,
        demo: runDemo,
        examples: runDemo,
        github: () => { window.open('https://github.com/wildcard/caro', '_blank'); addOutput('Opening GitHub...', 'info'); },
        home: () => { window.location.href = '/'; },
        exit: () => { window.location.href = '/'; },
        e: () => { window.location.href = '/'; },
        version: () => addOutput(`caro v${version}`, 'accent'),
        v: () => addOutput(`caro v${version}`, 'accent'),
      };

      showWelcome();

      document.getElementById('terminal').addEventListener('click', () => {
        terminalInput.focus();
      });

      terminalInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          const cmd = terminalInput.value.trim().toLowerCase();
          if (cmd) {
            processCommand(cmd);
            history.push(cmd);
            historyIndex = history.length;
          }
          terminalInput.value = '';
        } else if (e.key === 'ArrowUp') {
          e.preventDefault();
          if (historyIndex > 0) {
            historyIndex--;
            terminalInput.value = history[historyIndex];
          }
        } else if (e.key === 'ArrowDown') {
          e.preventDefault();
          if (historyIndex < history.length - 1) {
            historyIndex++;
            terminalInput.value = history[historyIndex];
          } else {
            historyIndex = history.length;
            terminalInput.value = '';
          }
        }
      });

      themeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const theme = btn.dataset.theme;
          page.dataset.theme = theme;
          themeBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          localStorage.setItem('terminal-page-theme', theme);
        });
      });

      const savedTheme = localStorage.getItem('terminal-page-theme');
      if (savedTheme) {
        page.dataset.theme = savedTheme;
        themeBtns.forEach(btn => {
          btn.classList.toggle('active', btn.dataset.theme === savedTheme);
        });
      }

      document.querySelectorAll('.tp-copy-btn').forEach(btn => {
        btn.addEventListener('click', async () => {
          const text = btn.dataset.copy;
          try {
            await navigator.clipboard.writeText(text);
            btn.textContent = 'Copied!';
            setTimeout(() => btn.textContent = 'Copy', 2000);
          } catch (err) {
            console.error('Copy failed:', err);
          }
        });
      });

      function processCommand(cmd) {
        addOutput(cmd, 'cmd');

        if (cmd.startsWith('caro ')) {
          simulateCaroCommand(cmd);
          return;
        }

        const handler = commands[cmd];
        if (handler) {
          handler();
        } else {
          addOutput(`Command not found: ${cmd}. Type 'help' for commands.`, 'error');
        }

        scrollToBottom();
      }

      function addOutput(text, className = '') {
        const line = document.createElement('div');
        line.className = 'tp-output-line' + (className ? ' tp-' + className : '');
        line.textContent = text;
        terminalOutput.appendChild(line);
        scrollToBottom();
      }

      function addHTML(html) {
        const container = document.createElement('div');
        container.innerHTML = html;
        terminalOutput.appendChild(container);
        scrollToBottom();
      }

      function scrollToBottom() {
        terminalBody.scrollTop = terminalBody.scrollHeight;
      }

      function clearTerminal() {
        terminalOutput.innerHTML = '';
      }

      function showWelcome() {
        // Simple text-based welcome - no ASCII art issues
        addHTML(`<pre class="tp-ascii">
 ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó
‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë
‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë
‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
 ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</pre>`);
        addOutput(`v${version} - Safe Shell Commands You Can Trust`, 'dim');
        addOutput('');
        addOutput("Type 'help' for commands, or try: caro \"find python files\"", 'info');
      }

      function showHelp() {
        addHTML(`
          <div class="tp-help-box">
            <div class="tp-help-title">Available Commands</div>
            <div class="tp-help-item"><span class="tp-help-cmd">help, h</span><span class="tp-help-desc">Show this help</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">capabilities, cap</span><span class="tp-help-desc">View features</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">install, i</span><span class="tp-help-desc">Installation</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">stats, s</span><span class="tp-help-desc">Statistics</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">demo, examples</span><span class="tp-help-desc">Run demo</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">github</span><span class="tp-help-desc">Open GitHub</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">clear, cls</span><span class="tp-help-desc">Clear terminal</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">exit, e</span><span class="tp-help-desc">Go to main site</span></div>
            <div class="tp-help-item"><span class="tp-help-cmd">caro "..."</span><span class="tp-help-desc">Try a command</span></div>
          </div>
        `);
      }

      function showSection(sectionId) {
        const section = document.getElementById('section-' + sectionId);
        if (section) {
          document.querySelectorAll('.tp-section').forEach(s => s.style.display = 'none');
          section.style.display = 'block';
          section.scrollIntoView({ behavior: 'smooth' });
          addOutput(`Showing ${sectionId}...`, 'info');
        }
      }

      function runDemo() {
        addOutput('Running demo...', 'info');
        addOutput('');

        const demos = [
          { prompt: 'find all PDF files larger than 10MB', result: 'find . -name "*.pdf" -type f -size +10M', safe: true },
          { prompt: 'delete everything in root', result: 'rm -rf /', safe: false },
          { prompt: 'show disk usage by folder', result: 'du -sh */ | sort -rh | head -10', safe: true },
        ];

        let i = 0;
        function showNext() {
          if (i >= demos.length) return;
          const demo = demos[i];
          addOutput(`caro "${demo.prompt}"`, 'cmd');
          setTimeout(() => {
            addOutput(`  ‚Üí ${demo.result}`, 'result');
            addOutput(demo.safe ? '  ‚úì Safe to run' : '  ‚úï BLOCKED: Dangerous pattern', demo.safe ? 'success' : 'error');
            addOutput('');
            i++;
            setTimeout(showNext, 1200);
          }, 400);
        }
        setTimeout(showNext, 300);
      }

      function simulateCaroCommand(cmd) {
        const prompt = cmd.replace(/^caro\s+["']?|["']?$/g, '');
        const responses = {
          'find python files': { result: 'find . -name "*.py" -type f', safe: true },
          'find all python files': { result: 'find . -name "*.py" -type f', safe: true },
          'list files': { result: 'ls -la', safe: true },
          'disk usage': { result: 'df -h', safe: true },
          'delete everything': { result: 'rm -rf /', safe: false },
        };

        setTimeout(() => {
          let response = null;
          for (const [key, val] of Object.entries(responses)) {
            if (prompt.toLowerCase().includes(key)) {
              response = val;
              break;
            }
          }
          if (!response) {
            response = { result: `echo "Command for: ${prompt}"`, safe: true };
          }
          addOutput(`  ‚Üí ${response.result}`, 'result');
          addOutput(response.safe ? '  ‚úì Safe to run' : '  ‚úï BLOCKED: Dangerous pattern', response.safe ? 'success' : 'error');
        }, 250);
      }
    })();
  </script>
</body>
</html>
